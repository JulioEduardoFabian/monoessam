import{_}from"./index-D0wnr5TQ.js";import{_ as I}from"./Input.vue_vue_type_script_setup_true_lang-L6aj2xCP.js";import{c as L,_ as V,a as j,b as B}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-B0htdjeS.js";import{_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-DCqL4m5v.js";import{d as F,k as g,c as l,o as i,a,u as d,m as P,w as n,b as r,e as U,F as p,l as k,v as m,t as u,W as y}from"./app-DHc17Srm.js";import{_ as W}from"./AreaModal.vue_vue_type_script_setup_true_lang-Cf9-r2H4.js";import{_ as z}from"./Modal.vue_vue_type_script_setup_true_lang-FfDngRMT.js";import{_ as G}from"./PermissionModal.vue_vue_type_script_setup_true_lang-BkhwAiz8.js";import{_ as M}from"./RoleModal.vue_vue_type_script_setup_true_lang-pggUb4pM.js";import{_ as O}from"./RolePermissionPopover.vue_vue_type_script_setup_true_lang-BEhJ7vmt.js";import{c as R}from"./createLucideIcon-BGi-3XUC.js";import"./utils-bRKmu4jq.js";import"./index-dkW4UkYo.js";import"./Primitive-M5IC-HPY.js";import"./index-CIvCiRTE.js";import"./useForwardPropsEmits-Bh0u6_9R.js";import"./useForwardExpose-4dZel9K6.js";import"./RovingFocusGroup-C19OEW30.js";import"./Collection-BM5cLq94.js";import"./usePrimitiveElement-BB2VZ2uY.js";import"./RovingFocusItem-CTvkVA0M.js";import"./useFocusGuards-FUnUJITZ.js";import"./Teleport-Whf5mvBy.js";import"./VisuallyHidden-CscJcbio.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DzQO7hTB.js";import"./utils-D4lt8Rum.js";import"./useTypeahead-DkMgZjaj.js";import"./x-DyshcwK_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./building-2-IzW_N_hc.js";import"./user-4V6LbfE_.js";import"./chevron-right-Da8e_tY3.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-bjbebw9K.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-Cxe9KhUD.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-DWeWvCpk.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-CntSJ9Pj.js";import"./chevron-down-qltfRbZ2.js";import"./check-DNMH_Akj.js";import"./nullish-CHIgUVhi.js";import"./lamp-desk-rGi27Lvw.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-ITyzNaQ-.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=R("BanIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),T={class:"flex h-full flex-1 flex-col gap-6 p-6"},H={class:"flex h-12 w-full items-center justify-start gap-3 rounded-lg bg-gradient-to-r from-blue-50 to-purple-50 p-2 shadow-sm dark:from-gray-700 dark:to-gray-700"},J={class:"grid h-full auto-rows-fr gap-6 md:grid-cols-3"},K={class:"flex flex-col gap-4 rounded-lg bg-white p-4 shadow-sm dark:bg-gray-800"},Q={class:"space-y-2 overflow-y-auto"},X=["onClick"],Y={class:"font-medium text-gray-700 dark:text-gray-200"},Z=["onClick"],ee={class:"font-medium text-gray-700 dark:text-gray-200"},re={class:"flex flex-col gap-4 rounded-lg bg-white p-4 shadow-sm dark:bg-gray-800"},te={class:"space-y-2 overflow-y-auto"},ae=["onClick"],se={class:"font-medium text-gray-700 dark:text-gray-200"},oe={class:"flex flex-col gap-4 rounded-lg bg-white p-4 shadow-sm dark:bg-gray-800"},le={key:0,class:"flex h-14 items-center justify-center rounded-lg bg-red-100 p-3 text-red-600 dark:bg-red-900/30 dark:text-red-300"},ie={key:1,class:"space-y-3 overflow-y-auto"},de=["onClick"],ne={class:"flex items-center justify-between"},ue={class:"font-medium text-gray-800 dark:text-gray-100"},ge={class:"text-sm text-gray-500 dark:text-gray-400"},ce={class:"mt-2 flex justify-end gap-1"},rr=F({__name:"Index",props:{users:{},roles:{},permissions:{},areas:{},cafes:{},headquarters:{}},setup(pe){const $=g([]),b=g([]),f=g(!1),x=g(null),h=g(null),v=g(null),C=t=>{x.value=t,h.value=null,v.value=null,$.value=t.areas,b.value=[],f.value=!1},q=t=>{h.value=t,v.value=null,t.users.length!==0?(b.value=t.users.filter(s=>s.type!=3),f.value=!1):(b.value=[],f.value=!0)},S=t=>{v.value=t},E=t=>{confirm("¿Estás seguro de que deseas enviar a lista negra a este usuario?")&&y.get(route("blacklist",t))},N=t=>{confirm("¿Estás seguro de que deseas dar de baja a este usuario?")&&y.get(route("users.ban",t)).then(()=>{console.log("Usuario dado de baja")}).catch(s=>{console.error("Error al dar de baja al usuario:",s),alert("Ocurrió un error al dar de baja al usuario. Por favor, inténtalo de nuevo.")})},A=()=>{y.get(route("blacklist"))};return(t,s)=>(i(),l(p,null,[a(d(P),{title:"Usuarios"}),a(D,null,{default:n(()=>[r("div",T,[r("div",H,[a(G,{class:"rounded p-1 text-blue-600 transition-colors hover:bg-blue-100 hover:text-blue-700 dark:text-blue-400 dark:hover:bg-blue-900/30"}),a(z,{cafes:t.cafes,headquarters:t.headquarters,roles:t.roles,class:"rounded p-1 text-purple-600 transition-colors hover:bg-purple-100 hover:text-purple-700 dark:text-purple-400 dark:hover:bg-purple-900/30"},null,8,["cafes","headquarters","roles"]),a(M,{areas:t.areas,class:"rounded p-1 text-green-600 transition-colors hover:bg-green-100 hover:text-green-700 dark:text-green-400 dark:hover:bg-green-900/30"},null,8,["areas"]),a(W,{cafes:t.cafes,headquarters:t.headquarters,class:"rounded p-1 text-orange-600 transition-colors hover:bg-orange-100 hover:text-orange-700 dark:text-orange-400 dark:hover:bg-orange-900/30"},null,8,["cafes","headquarters"]),a(_,{onClick:A},{default:n(()=>[a(d(w))]),_:1})]),r("div",J,[r("div",K,[s[2]||(s[2]=r("h2",{class:"text-lg font-semibold text-gray-800 dark:text-white"},[r("span",{class:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},"Lugares")],-1)),a(I,{type:"text",class:"w-full rounded-lg border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",placeholder:"Buscar lugar..."}),r("div",Q,[a(d(L),{"default-value":"account",class:"w-full"},{default:n(()=>[a(d(V),{class:"grid w-full grid-cols-2 bg-gray-100 dark:bg-gray-700"},{default:n(()=>[a(d(j),{value:"areas",class:"data-[state=active]:bg-blue-500 data-[state=active]:text-white"},{default:n(()=>s[0]||(s[0]=[U(" Sedes ")])),_:1}),a(d(j),{value:"cafes",class:"data-[state=active]:bg-purple-500 data-[state=active]:text-white"},{default:n(()=>s[1]||(s[1]=[U(" Cafeterías ")])),_:1})]),_:1}),a(d(B),{value:"areas"},{default:n(()=>[(i(!0),l(p,null,k(t.headquarters,e=>{var o;return i(),l("div",{key:e.id,class:m(["my-1 flex h-14 cursor-pointer items-center rounded-lg border border-gray-200 p-3 transition-all hover:bg-blue-50 hover:shadow-md dark:border-gray-600 dark:hover:bg-blue-900/20",{"border-blue-300 bg-blue-100 dark:bg-blue-900/40":((o=x.value)==null?void 0:o.id)===e.id}]),onClick:c=>C(e)},[r("p",Y,u(e.business.name)+" - "+u(e.name),1)],10,X)}),128))]),_:1}),a(d(B),{value:"cafes"},{default:n(()=>[(i(!0),l(p,null,k(t.cafes,e=>{var o;return i(),l("div",{key:e.id,class:m(["my-1 flex h-14 cursor-pointer items-center rounded-lg border border-gray-200 p-3 transition-all hover:bg-purple-50 hover:shadow-md dark:border-gray-600 dark:hover:bg-purple-900/20",{"border-purple-300 bg-purple-100 dark:bg-purple-900/40":((o=x.value)==null?void 0:o.id)===e.id}]),onClick:c=>C(e)},[r("p",ee,u(e.name),1)],10,Z)}),128))]),_:1})]),_:1})])]),r("div",re,[s[3]||(s[3]=r("h2",{class:"text-lg font-semibold text-gray-800 dark:text-white"},[r("span",{class:"bg-gradient-to-r from-green-600 to-teal-600 bg-clip-text text-transparent"},"Áreas")],-1)),r("div",te,[(i(!0),l(p,null,k($.value,e=>{var o;return i(),l("div",{key:e.id,class:m(["flex h-14 cursor-pointer items-center rounded-lg border border-gray-200 p-3 transition-all hover:bg-green-50 hover:shadow-md dark:border-gray-600 dark:hover:bg-green-900/20",{"border-green-300 bg-green-100 dark:bg-green-900/40":((o=h.value)==null?void 0:o.id)===e.id}]),onClick:c=>q(e)},[r("p",se,u(e.name),1)],10,ae)}),128))])]),r("div",oe,[s[5]||(s[5]=r("h2",{class:"text-lg font-semibold text-gray-800 dark:text-white"},[r("span",{class:"bg-gradient-to-r from-orange-600 to-pink-600 bg-clip-text text-transparent"},"Usuarios")],-1)),f.value?(i(),l("div",le,s[4]||(s[4]=[r("p",null,"No se encontraron usuarios en esta área",-1)]))):(i(),l("div",ie,[(i(!0),l(p,null,k(b.value,e=>{var o;return i(),l("div",{key:e.id,class:m(["rounded-lg border border-gray-200 p-3 transition-all hover:shadow-md dark:border-gray-600",{"border-indigo-300 bg-indigo-50 dark:bg-indigo-900/30":((o=v.value)==null?void 0:o.id)===e.id}]),onClick:c=>S(e)},[r("div",ne,[r("div",null,[r("p",ue,u(e.name),1),r("p",ge,u(e.email),1)]),r("span",{class:m(["rounded-full px-2 py-1 text-xs font-medium",{"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":e.roles[0].name==="Admin","bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":e.roles[0].name==="Manager","bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":e.roles[0].name==="Employee","bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200":e.roles[0].name==="Guest"}])},u(e.roles[0].name),3)]),r("div",ce,[a(_,{class:"bg-red-500",title:"Dar de baja",onClick:c=>N(e.id)},{default:n(()=>[a(d(w))]),_:2},1032,["onClick"]),a(_,{onClick:c=>E(e.id),title:"Pasar a lista negra"},{default:n(()=>[a(d(w))]),_:2},1032,["onClick"]),a(O,{role:e.roles[0],permissions:t.permissions,class:"text-xs text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300"},null,8,["role","permissions"])])],10,de)}),128))]))])])])]),_:1})],64))}});export{rr as default};
