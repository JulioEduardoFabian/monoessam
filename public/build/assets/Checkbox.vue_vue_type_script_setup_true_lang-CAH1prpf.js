import{c as I}from"./utils-bRKmu4jq.js";import{c as R,P as M,a as x}from"./useForwardPropsEmits-BACIT-x0.js";import{d as b,A as p,q as O,g as v,o as d,y as f,c as N,k as H,F as K,w as y,j as w,i as L,u as t,x as z,h as D,N as T,a as _}from"./app-CSAmcM4-.js";import{a as J}from"./index-DyUhMhGA.js";import{u as j}from"./useForwardExpose-CZyHliBh.js";import{i as $}from"./nullish-CHIgUVhi.js";import{i as B,u as Q,C as U}from"./check-mSrDMsxl.js";import{_ as W}from"./RovingFocusItem-CRDeeZqx.js";import{P as F}from"./Primitive-Ydx7xRFx.js";import{_ as X}from"./VisuallyHidden-gdSemCtm.js";import{a as Y}from"./usePrimitiveElement-deP2f5dF.js";function A(o,e){return $(o)?!1:Array.isArray(o)?o.some(r=>B(r,e)):B(o,e)}const P=b({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(o){const e=o,{primitiveElement:r,currentElement:u}=Y(),n=p(()=>e.checked??e.value);return O(n,(s,a)=>{if(!u.value)return;const i=u.value,c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(h&&s!==a){const g=new Event("input",{bubbles:!0}),C=new Event("change",{bubbles:!0});h.call(i,s),i.dispatchEvent(g),i.dispatchEvent(C)}}),(s,a)=>(d(),v(X,f({ref_key:"primitiveElement",ref:r},{...e,...s.$attrs},{as:"input"}),null,16))}}),Z=b({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(o){const e=o,r=p(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),u=p(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((n,s)=>typeof n=="object"?Object.entries(n).map(([a,i])=>({name:`[${e.name}][${s}][${a}]`,value:i})):{name:`[${e.name}][${s}]`,value:n}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([n,s])=>({name:`[${e.name}][${n}]`,value:s})):[]);return(n,s)=>r.value?(d(),v(P,f({key:n.name},{...e,...n.$attrs},{name:n.name,value:n.value}),null,16,["name","value"])):(d(!0),N(K,{key:1},H(u.value,a=>(d(),v(P,f({key:a.name,ref_for:!0},{...e,...n.$attrs},{name:a.name,value:a.value}),null,16,["name","value"]))),128))}}),[G,fe]=R("CheckboxGroupRoot");function V(o){return o==="indeterminate"}function S(o){return V(o)?"indeterminate":o?"checked":"unchecked"}const[ee,ae]=R("CheckboxRoot"),te=b({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(o,{emit:e}){const r=o,u=e,{forwardRef:n,currentElement:s}=j(),a=G(null),i=J(r,"modelValue",u,{defaultValue:r.defaultValue,passive:r.modelValue===void 0}),c=p(()=>(a==null?void 0:a.disabled.value)||r.disabled),m=p(()=>$(a==null?void 0:a.modelValue.value)?i.value==="indeterminate"?"indeterminate":i.value:A(a.modelValue.value,r.value));function h(){if($(a==null?void 0:a.modelValue.value))i.value=V(i.value)?!0:!i.value;else{const l=[...a.modelValue.value||[]];if(A(l,r.value)){const E=l.findIndex(k=>B(k,r.value));l.splice(E,1)}else l.push(r.value);a.modelValue.value=l}}const g=Q(s),C=p(()=>{var l;return r.id&&s.value?(l=document.querySelector(`[for="${r.id}"]`))==null?void 0:l.innerText:void 0});return ae({disabled:c,state:m}),(l,E)=>{var k,q;return d(),v(T((k=t(a))!=null&&k.rovingFocus.value?t(W):t(F)),f(l.$attrs,{id:l.id,ref:t(n),role:"checkbox","as-child":l.asChild,as:l.as,type:l.as==="button"?"button":void 0,"aria-checked":t(V)(m.value)?"mixed":m.value,"aria-required":l.required,"aria-label":l.$attrs["aria-label"]||C.value,"data-state":t(S)(m.value),"data-disabled":c.value?"":void 0,disabled:c.value,focusable:(q=t(a))!=null&&q.rovingFocus.value?!c.value:void 0,onKeydown:z(D(()=>{},["prevent"]),["enter"]),onClick:h}),{default:y(()=>[w(l.$slots,"default",{modelValue:t(i),state:m.value}),t(g)&&l.name&&!t(a)?(d(),v(t(Z),{key:0,type:"checkbox",checked:!!m.value,name:l.name,value:l.value,disabled:c.value,required:l.required},null,8,["checked","name","value","disabled","required"])):L("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),re=b({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(o){const{forwardRef:e}=j(),r=ee();return(u,n)=>(d(),v(t(M),{present:u.forceMount||t(V)(t(r).state.value)||t(r).state.value===!0},{default:y(()=>[_(t(F),f({ref:t(e),"data-state":t(S)(t(r).state.value),"data-disabled":t(r).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":u.asChild,as:u.as},u.$attrs),{default:y(()=>[w(u.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),ye=b({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(o,{emit:e}){const r=o,u=e,n=p(()=>{const{class:a,...i}=r;return i}),s=x(n,u);return(a,i)=>(d(),v(t(te),f({"data-slot":"checkbox"},t(s),{class:t(I)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r.class)}),{default:y(()=>[_(t(re),{"data-slot":"checkbox-indicator",class:"flex items-center justify-center text-current transition-none"},{default:y(()=>[w(a.$slots,"default",{},()=>[_(t(U),{class:"size-3.5"})])]),_:3})]),_:3},16,["class"]))}});export{ye as _};
