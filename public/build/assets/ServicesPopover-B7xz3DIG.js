import{_ as p}from"./index-C1DJId2m.js";import{_ as x,a as y,b as k}from"./PopoverTrigger.vue_vue_type_script_setup_true_lang-MqsIfmtl.js";import{d as C,l as m,q as S,C as w,g as $,o as c,w as r,a as i,u as l,e as f,b as d,c as v,F as B,k as V,t as N}from"./app-JVhHwlq5.js";import"./utils-bRKmu4jq.js";import"./Primitive-DfXvp0aN.js";import"./useForwardPropsEmits-D_JY_aQN.js";import"./index-tEzE8n4R.js";import"./useForwardExpose-oFSbldCg.js";import"./useFocusGuards-CmmDjwHX.js";const E={class:"max-h-64 space-y-2 overflow-y-auto"},F=["id","checked","onChange"],I=["for"],A=C({__name:"ServicesPopover",props:{services:{},business:{}},setup(_){const u=_,n=m(!1),t=m({});S(()=>u.business,a=>{t.value={},a.services&&a.services.forEach(e=>{t.value[e.id]=!0})},{immediate:!0});const o=w({businessId:0,services:{}});function g(a,e){t.value[a]=e}const h=()=>{n.value=!1,o.businessId=u.business.id,o.services=t.value,o.post(route("businessServices"),{onSuccess:()=>{o.reset()}})};return(a,e)=>(c(),$(l(k),{open:n.value,"onUpdate:open":e[0]||(e[0]=s=>n.value=s)},{default:r(()=>[i(l(x),{asChild:""},{default:r(()=>[i(p,{variant:"outline",class:"flex items-center gap-2"},{default:r(()=>e[1]||(e[1]=[f(" Ver servicios ")])),_:1})]),_:1}),i(l(y),{class:"w-64 space-y-3 p-4"},{default:r(()=>[d("div",E,[(c(!0),v(B,null,V(a.services,s=>(c(),v("div",{key:s.id,class:"flex items-center space-x-2 rounded p-2 transition-colors hover:bg-gray-50"},[d("input",{class:"text-primary focus:ring-primary h-4 w-4 rounded border-gray-300",type:"checkbox",id:`service-${s.id}`,checked:t.value[s.id]||!1,onChange:b=>g(s.id,b.target.checked)},null,40,F),d("label",{class:"cursor-pointer text-sm font-medium text-gray-700",for:`service-${s.id}`},N(s.name),9,I)]))),128))]),i(p,{onClick:h,class:"mt-2 w-full"},{default:r(()=>e[2]||(e[2]=[f(" Sincronizar")])),_:1})]),_:1})]),_:1},8,["open"]))}});export{A as default};
