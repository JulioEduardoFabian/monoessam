import{_ as b}from"./AppLayout.vue_vue_type_script_setup_true_lang-CXgHhOaT.js";import{d as w,k as r,C as _,A as k,s as p,g as C,o as n,w as E,b as e,c as l,i as u,a as S,F as j,l as D,t as a}from"./app-DKEoTMpc.js";import{_ as $}from"./ServiceModal.vue_vue_type_script_setup_true_lang-Bx3N68fL.js";import"./utils-bRKmu4jq.js";import"./index-CdUsTn8m.js";import"./useForwardPropsEmits-k1Br0vk_.js";import"./Primitive-DUPbyqgx.js";import"./useForwardExpose-BBL0q8W0.js";import"./useFocusGuards-wtA7RTNu.js";import"./Teleport-CE_1jnLI.js";import"./VisuallyHidden-DUSEtLdG.js";import"./index-dkW4UkYo.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-gYTZ2BSm.js";import"./Collection-DcQ11Xg7.js";import"./usePrimitiveElement-DUNBj5zh.js";import"./utils-CYzUh2JN.js";import"./useTypeahead-Bji-cTXX.js";import"./RovingFocusGroup-CdMI-jx8.js";import"./createLucideIcon-hE36bJB5.js";import"./x-muJGhiII.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./building-2-mV2FzCNv.js";import"./user-Dq4vYeIV.js";import"./chevron-right-hQyYyoo_.js";import"./index-CMN4QbaZ.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-tIGCwmCg.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-BqvQYW8J.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-8h0KAmsm.js";import"./Input.vue_vue_type_script_setup_true_lang-DRSESILD.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-DAZeDfjp.js";import"./chevron-down-DLthk-TS.js";import"./check-BQ4wUeCh.js";import"./nullish-CHIgUVhi.js";import"./shopping-cart-DLMaSNlc.js";const B={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},M={class:"grid auto-rows-min gap-4 md:grid-cols-3"},N={class:"md:col-span-3"},z={class:"flex items-center justify-between"},A={class:"md:col-span-3"},F={class:"overflow-x-auto rounded-lg border border-gray-200"},L={class:"min-w-full divide-y divide-gray-200"},V={class:"divide-y divide-gray-200 bg-white"},q={class:"px-6 py-4 whitespace-nowrap"},T={class:"px-6 py-4 whitespace-nowrap"},I={class:"px-6 py-4"},R={class:"px-6 py-4 whitespace-nowrap"},G={class:"inline-flex rounded-full bg-blue-100 px-2 py-1 text-xs font-semibold text-blue-800"},H={class:"px-6 py-4 text-right text-sm font-medium whitespace-nowrap"},J=["onClick"],K=["onClick"],O={key:0},P={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Q={class:"flex min-h-screen items-center justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},U={class:"fixed inset-0 transition-opacity","aria-hidden":"true"},W={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},X={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},ze=w({__name:"Index",setup(Y){const d=r([]),x=r(!1),f=r(null);r(null);const m=r(!1),i=_({code:"",name:"",description:"",type:""}),g=[{value:"1",label:"Desayuno"},{value:"2",label:"Almuerzo"},{value:"3",label:"Cena"},{value:"4",label:"Refrigerio"},{value:"5",label:"Descartables"}];k(()=>{c()});const c=async()=>{try{const s=await p.get("services-list");d.value=s.data}catch(s){console.error("Error fetching services:",s)}},h=(s=null)=>{f.value=s,s?(i.code=s.code,i.name=s.name,i.description=s.description,i.type=s.type):i.reset(),x.value=!0},y=s=>{confirm("¿Estás seguro de que deseas eliminar este servicio?")&&p.delete("/services/"+s).then(t=>{c()}).catch(t=>{console.error(t)})};return(s,t)=>(n(),C(b,null,{default:E(()=>[e("div",B,[e("div",M,[e("div",N,[e("div",z,[t[3]||(t[3]=e("h1",{class:"text-2xl font-bold"},"Servicios",-1)),S($,{serviceTypes:g,onFetchServices:c})])]),e("div",A,[e("div",F,[e("table",L,[t[5]||(t[5]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase"},"Código"),e("th",{class:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase"},"Nombre"),e("th",{class:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase"},"Descripción"),e("th",{class:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase"},"Tipo"),e("th",{class:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase"},"Acciones")])],-1)),e("tbody",V,[(n(!0),l(j,null,D(d.value,o=>(n(),l("tr",{key:o.id},[e("td",q,a(o.code),1),e("td",T,a(o.name),1),e("td",I,a(o.description),1),e("td",R,[e("span",G,a(o.type),1)]),e("td",H,[e("button",{onClick:v=>h(o),class:"mr-2 text-blue-600 hover:text-blue-900"},"Editar",8,J),e("button",{onClick:v=>y(o.id),class:"text-red-600 hover:text-red-900"},"Eliminar",8,K)])]))),128)),d.value.length===0?(n(),l("tr",O,t[4]||(t[4]=[e("td",{colspan:"5",class:"px-6 py-4 text-center text-gray-500"},"No hay servicios registrados",-1)]))):u("",!0)])])])])])]),m.value?(n(),l("div",P,[e("div",Q,[e("div",U,[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75",onClick:t[0]||(t[0]=o=>m.value=!1)})]),t[7]||(t[7]=e("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true"},"​",-1)),e("div",W,[t[6]||(t[6]=e("div",{class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},[e("div",{class:"sm:flex sm:items-start"},[e("div",{class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),e("div",{class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},[e("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Eliminar servicio"),e("div",{class:"mt-2"},[e("p",{class:"text-sm text-gray-500"}," ¿Estás seguro de que deseas eliminar este servicio? Esta acción no se puede deshacer. ")])])])],-1)),e("div",X,[e("button",{type:"button",onClick:t[1]||(t[1]=(...o)=>s.deleteService&&s.deleteService(...o)),class:"inline-flex w-full justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-700 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm"}," Eliminar "),e("button",{type:"button",onClick:t[2]||(t[2]=o=>m.value=!1),class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancelar ")])])])])):u("",!0)]),_:1}))}});export{ze as default};
