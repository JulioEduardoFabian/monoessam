import{_ as g}from"./index-IfQBlFhW.js";import{_ as f}from"./index-CfnbnXls.js";import{_ as k}from"./AppLayout.vue_vue_type_script_setup_true_lang-COrSKNOJ.js";import{d as w,k as z,q as C,c as d,o as l,a as s,u as a,m as E,w as i,b as t,F as u,l as x,t as p,v as V,e as B,g as I,i as M,s as _}from"./app-KfXT5fzK.js";import{_ as N}from"./FormUser.vue_vue_type_script_setup_true_lang-sENdSAL_.js";import{c as h}from"./createLucideIcon-ADMu23uL.js";import"./Primitive-B8p-Wf5z.js";import"./utils-bRKmu4jq.js";import"./index-dkW4UkYo.js";import"./Presence-CTEiiS5Z.js";import"./useForwardExpose-CJtWwAq9.js";import"./PopperContent-B-fbLXL_.js";import"./Teleport-CfY66bFc.js";import"./VisuallyHidden-BAlDmBAw.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BEZl5VDk.js";import"./utils-BondeCs8.js";import"./useTypeahead-BGc6U4JP.js";import"./RovingFocusGroup-DzINSkUt.js";import"./usePrimitiveElement-B3MrR_C0.js";import"./Collection-Cca8EiEd.js";import"./DialogTitle-DJPTyCBV.js";import"./x-CGcKhtYp.js";import"./DialogDescription-CMHvcypV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./building-2-CmvkVPYh.js";import"./user-DXMgh-Cn.js";import"./chevron-right-CWgcHE5B.js";import"./index-DZYy1D_7.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-BKHSb0zc.js";import"./DialogDescription.vue_vue_type_script_setup_true_lang-Db7SrQ_l.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-BeJUNm0Q.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-DU_JxfSt.js";import"./Input.vue_vue_type_script_setup_true_lang-_1iYfgdb.js";import"./Label.vue_vue_type_script_setup_true_lang-BOXSBT1U.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-BQbTLmPe.js";import"./chevron-down-Cst1pH6z.js";import"./check-CPh4lBhE.js";import"./TabsTrigger.vue_vue_type_script_setup_true_lang-Gnu-eeGp.js";import"./RovingFocusItem-BqvVpi49.js";import"./AlertErrors.vue_vue_type_script_setup_true_lang-BrSdPW42.js";import"./InputSearchRole.vue_vue_type_script_setup_true_lang-jpIOY4ft.js";import"./plus-C-EQSvTV.js";import"./circle-alert-D4lT5Son.js";import"./InputSearchSelectable.vue_vue_type_script_setup_true_lang-CIDdfcYp.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=h("BanIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=h("EyeIcon",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=h("PenLineIcon",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=h("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),j={class:"flex h-full flex-1 flex-col gap-6 rounded-xl p-4"},D={class:"flex items-center justify-between"},T={class:"bg-card rounded-xl border shadow-sm"},F={class:"w-full border-collapse"},q={class:"p-4"},H={class:"p-4"},O={class:"p-4"},A={class:"p-4"},G=["href"],J={class:"p-4"},K={class:"p-4 text-center"},Q={class:"flex items-center justify-center gap-3"},Tt=w({__name:"Index",props:{cafes:{},staff:{},roles:{}},setup(y){const n=y,c=z(n.staff),b=async r=>{if(confirm("Est치s seguro de eliminar a este personal?"))try{await _.delete("/staff/"+r),c.value=c.value.filter(e=>e.id!==r)}catch(e){console.error("Error al eliminar personal:",e)}},v=async r=>{if(confirm("Est치s seguro de enviar a lista negra a este personal? Se perder치n sus archivos y datos, excepto telefono, nombre y dni"))try{await _.get("/staff-ban/"+r).then(e=>{c.value=e.data.staff}).catch(e=>{console.log(e)})}catch(e){console.log(e)}};return C(n,r=>{c.value=n.staff}),(r,e)=>(l(),d(u,null,[s(a(E),{title:"Personal"}),s(k,null,{default:i(()=>[t("div",j,[t("div",D,[e[0]||(e[0]=t("h1",{class:"text-2xl font-semibold tracking-tight"},"Personal",-1)),s(N,{cafes:n.cafes,roles:n.roles},null,8,["cafes","roles"])]),t("div",T,[t("table",F,[e[1]||(e[1]=t("thead",{class:"bg-muted/50"},[t("tr",null,[t("th",{class:"p-4 text-left text-sm font-semibold"},"Nombre"),t("th",{class:"p-4 text-left text-sm font-semibold"},"DNI"),t("th",{class:"p-4 text-left text-sm font-semibold"},"Celular"),t("th",{class:"p-4 text-left text-sm font-semibold"},"Documentaci칩n"),t("th",{class:"p-4 text-left text-sm font-semibold"},"Estado"),t("th",{class:"p-4 text-center text-sm font-semibold"},"Opciones")])],-1)),t("tbody",null,[(l(!0),d(u,null,x(c.value,o=>(l(),d("tr",{key:o.id,class:"hover:bg-muted/30 border-t transition"},[t("td",q,p(o.name),1),t("td",H,p(o.dni),1),t("td",O,p(o.cell),1),t("td",A,[(l(!0),d(u,null,x(o.staff_files,m=>(l(),d("a",{class:"mx-2 rounded bg-red-400 px-2 text-white",href:"/storage/"+m.file_path,target:"_blank",key:m.id},p(m.file_type),9,G))),128))]),t("td",J,[s(a(g),{class:V(o.status==1?"bg-green-500 text-white":"bg-zinc-500 text-white")},{default:i(()=>[B(p(o.status),1)]),_:2},1032,["class"])]),t("td",K,[t("div",Q,[s(a(f),{variant:"ghost",size:"icon",class:"text-blue-600 hover:text-blue-800"},{default:i(()=>[s(a(L),{class:"h-4 w-4"})]),_:1}),s(a(f),{variant:"ghost",size:"icon",class:"text-yellow-600 hover:text-yellow-800"},{default:i(()=>[s(a(P),{class:"h-4 w-4"})]),_:1}),s(a(f),{variant:"ghost",size:"icon",class:"text-red-600 hover:text-red-800",onClick:m=>b(o.id)},{default:i(()=>[s(a(S),{class:"h-4 w-4"})]),_:2},1032,["onClick"]),o.status!=0?(l(),I(a(f),{key:0,variant:"ghost",size:"icon",class:"text-zinc-600 hover:text-zinc-800",onClick:m=>v(o.id)},{default:i(()=>[s(a($),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):M("",!0)])])]))),128))])])])])]),_:1})],64))}});export{Tt as default};
