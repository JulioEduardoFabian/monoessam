import{d as E,k as U,C as F,q as H,g as f,o as t,w as u,a as s,u as e,b as r,e as o,G as q,c as m,F as p,l as c,t as _,H as C}from"./app-DukjeBlQ.js";import{_ as B}from"./index-BKNcCfrT.js";import{_ as I,a as L,b as M,c as P}from"./DialogTitle.vue_vue_type_script_setup_true_lang-Du0WfFxI.js";import{_ as j}from"./DialogFooter.vue_vue_type_script_setup_true_lang-D-DwvwsP.js";import{_ as G}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-ClYbLnC8.js";import{_ as N}from"./Input.vue_vue_type_script_setup_true_lang-B9zXiJL4.js";import{_ as v,a as y,b as V,c as w,d as x,e as $,f as k}from"./SelectValue.vue_vue_type_script_setup_true_lang-KnEHHwMB.js";import{c as R}from"./createLucideIcon-CC9FwPDy.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=R("UserPlusIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),z={class:"flex w-full flex-row"},J={class:"w-full"},K={class:"w-full"},O={class:"flex flex-row"},Q={class:"flex flex-row"},se=E({__name:"Modal",props:{areas:{},cafes:{},headquarters:{},roles:{}},setup(A){const S=U(!1),i=U([]),b=U([]),g=A,d=F({name:"",email:"",password:"",cafe_id:null,headquarter_id:null,area_id:null,role_id:null});H(d,n=>{if(n.cafe_id){const l=g.cafes.find(a=>a.id==n.cafe_id);console.log(l),l?i.value=l.areas:i.value=[]}else{const l=g.headquarters.find(a=>a.id==n.headquarter_id);l?i.value=l.areas:i.value=[]}if(n.area_id){const l=i.value.find(a=>a.id==n.area_id);console.log(l),l?b.value=l.area_roles:b.value=[]}});const D=()=>{d.post(route("users"),{onSuccess:()=>{S.value=!1,d.reset()}})};return(n,l)=>(t(),f(e(P),{open:S.value,"onUpdate:open":l[7]||(l[7]=a=>S.value=a)},{default:u(()=>[s(e(G),null,{default:u(()=>[s(B,{title:"Agregar Usuario",class:"h-full w-auto bg-blue-400"},{default:u(()=>[s(e(T))]),_:1})]),_:1}),s(e(I),null,{default:u(()=>[s(e(L),null,{default:u(()=>[s(e(M),null,{default:u(()=>l[8]||(l[8]=[o("Nuevo Colaborador")])),_:1}),s(e(N),{modelValue:e(d).name,"onUpdate:modelValue":l[0]||(l[0]=a=>e(d).name=a),type:"text",placeholder:"Nombre"},null,8,["modelValue"]),s(e(N),{modelValue:e(d).email,"onUpdate:modelValue":l[1]||(l[1]=a=>e(d).email=a),type:"email",placeholder:"Email"},null,8,["modelValue"]),s(e(N),{modelValue:e(d).password,"onUpdate:modelValue":l[2]||(l[2]=a=>e(d).password=a),type:"password",placeholder:"Contraseña"},null,8,["modelValue"])]),_:1}),r("div",z,[q(r("div",J,[s(e(v),{class:"w-full",modelValue:e(d).cafe_id,"onUpdate:modelValue":l[3]||(l[3]=a=>e(d).cafe_id=a)},{default:u(()=>[s(e(y),{class:"w-full"},{default:u(()=>[s(e(V),{placeholder:"Selecciona una cafetería"})]),_:1}),s(e(w),null,{default:u(()=>[s(e(x),null,{default:u(()=>[s(e($),null,{default:u(()=>l[9]||(l[9]=[o("Cafeterías")])),_:1}),(t(!0),m(p,null,c(g.cafes,a=>(t(),f(e(k),{value:a.id,key:a.id},{default:u(()=>[o(_(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])],512),[[C,e(d).headquarter_id==null]]),q(r("div",null,l[10]||(l[10]=[r("p",{class:"p-2"},"o",-1)]),512),[[C,e(d).cafe_id==null&&e(d).headquarter_id==null]]),q(r("div",K,[s(e(v),{modelValue:e(d).headquarter_id,"onUpdate:modelValue":l[4]||(l[4]=a=>e(d).headquarter_id=a)},{default:u(()=>[s(e(y),{class:"w-full"},{default:u(()=>[s(e(V),{placeholder:"Selecciona una sede"})]),_:1}),s(e(w),null,{default:u(()=>[s(e(x),null,{default:u(()=>[s(e($),null,{default:u(()=>l[11]||(l[11]=[o("Sedes")])),_:1}),(t(!0),m(p,null,c(n.headquarters,a=>(t(),f(e(k),{value:a.id,key:a.id},{default:u(()=>[o(_(a.name)+" - "+_(a.business.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])],512),[[C,e(d).cafe_id==null]])]),r("div",O,[s(e(v),{modelValue:e(d).area_id,"onUpdate:modelValue":l[5]||(l[5]=a=>e(d).area_id=a)},{default:u(()=>[s(e(y),{class:"w-full"},{default:u(()=>[s(e(V),{placeholder:"Selecciona un area(depende de cafetería o sede)"})]),_:1}),s(e(w),null,{default:u(()=>[s(e(x),null,{default:u(()=>[s(e($),null,{default:u(()=>l[12]||(l[12]=[o("Areas")])),_:1}),(t(!0),m(p,null,c(i.value,a=>(t(),f(e(k),{value:a.id,key:a.id},{default:u(()=>[o(_(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),r("div",Q,[s(e(v),{modelValue:e(d).role_id,"onUpdate:modelValue":l[6]||(l[6]=a=>e(d).role_id=a)},{default:u(()=>[s(e(y),{class:"w-full"},{default:u(()=>[s(e(V),{placeholder:"Selecciona un rol"})]),_:1}),s(e(w),null,{default:u(()=>[s(e(x),null,{default:u(()=>[s(e($),null,{default:u(()=>l[13]||(l[13]=[o("Roles")])),_:1}),(t(!0),m(p,null,c(b.value,a=>(t(),f(e(k),{value:a.id,key:a.id},{default:u(()=>[o(_(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),s(e(j),null,{default:u(()=>[s(B,{onClick:D},{default:u(()=>l[14]||(l[14]=[o("Agregar")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]))}});export{se as _};
