import{j as ee,i as A,o as te,h as ne,f as oe,t as se,k as K,b as re,l as ie}from"./index-CdUsTn8m.js";import{k as w,d as W,X as $,y as P,a2 as L,g as N,o as x,w as z,j as R,u as g,Q as C,z as O,H as ae,q,B as ue,i as ce,af as le}from"./app-DKEoTMpc.js";import{g as S,i as de}from"./useForwardPropsEmits-k1Br0vk_.js";import{u as V}from"./useForwardExpose-BBL0q8W0.js";import{P as X}from"./Primitive-DUPbyqgx.js";const fe=ee(()=>w([]));function ve(){const e=fe();return{add(t){const n=e.value[0];t!==n&&(n==null||n.pause()),e.value=U(e.value,t),e.value.unshift(t)},remove(t){var n;e.value=U(e.value,t),(n=e.value[0])==null||n.resume()}}}function U(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function pe(e){return e.filter(t=>t.tagName!=="A")}const k="focusScope.autoFocusOnMount",B="focusScope.autoFocusOnUnmount",j={bubbles:!1,cancelable:!0};function ye(e,{select:t=!1}={}){const n=S();for(const o of e)if(b(o,{select:t}),S()!==n)return!0}function me(e){const t=Y(e),n=H(t,e),o=H(t.reverse(),e);return[n,o]}function Y(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function H(e,t){for(const n of e)if(!he(n,{upTo:t}))return n}function he(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ee(e){return e instanceof HTMLInputElement&&"select"in e}function b(e,{select:t=!1}={}){if(e&&e.focus){const n=S();e.focus({preventScroll:!0}),e!==n&&Ee(e)&&t&&e.select()}}const We=W({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,o=t,{currentRef:r,currentElement:i}=V(),l=w(null),p=ve(),d=$({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});P(u=>{if(!A)return;const s=i.value;if(!n.trapped)return;function c(f){if(d.paused||!s)return;const E=f.target;s.contains(E)?l.value=E:b(l.value,{select:!0})}function y(f){if(d.paused||!s)return;const E=f.relatedTarget;E!==null&&(s.contains(E)||b(l.value,{select:!0}))}function a(f){s.contains(l.value)||b(s)}document.addEventListener("focusin",c),document.addEventListener("focusout",y);const v=new MutationObserver(a);s&&v.observe(s,{childList:!0,subtree:!0}),u(()=>{document.removeEventListener("focusin",c),document.removeEventListener("focusout",y),v.disconnect()})}),P(async u=>{const s=i.value;if(await L(),!s)return;p.add(d);const c=S();if(!s.contains(c)){const a=new CustomEvent(k,j);s.addEventListener(k,v=>o("mountAutoFocus",v)),s.dispatchEvent(a),a.defaultPrevented||(ye(pe(Y(s)),{select:!0}),S()===c&&b(s))}u(()=>{s.removeEventListener(k,f=>o("mountAutoFocus",f));const a=new CustomEvent(B,j),v=f=>{o("unmountAutoFocus",f)};s.addEventListener(B,v),s.dispatchEvent(a),setTimeout(()=>{a.defaultPrevented||b(c??document.body,{select:!0}),s.removeEventListener(B,v),p.remove(d)},0)})});function m(u){if(!n.loop&&!n.trapped||d.paused)return;const s=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,c=S();if(s&&c){const y=u.currentTarget,[a,v]=me(y);a&&v?!u.shiftKey&&c===v?(u.preventDefault(),n.loop&&b(a,{select:!0})):u.shiftKey&&c===a&&(u.preventDefault(),n.loop&&b(v,{select:!0})):c===y&&u.preventDefault()}}return(u,s)=>(x(),N(g(X),{ref_key:"currentRef",ref:r,tabindex:"-1","as-child":u.asChild,as:u.as,onKeydown:m},{default:z(()=>[R(u.$slots,"default")]),_:3},8,["as-child","as"]))}});function G(e,t,n){const o=n.originalEvent.target,r=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),o.dispatchEvent(r)}const be="dismissableLayer.pointerDownOutside",we="dismissableLayer.focusOutside";function Q(e,t){const n=t.closest("[data-dismissable-layer]"),o=e.dataset.dismissableLayer===""?e:e.querySelector("[data-dismissable-layer]"),r=Array.from(e.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&(o===n||r.indexOf(o)<r.indexOf(n)))}function ge(e,t,n=!0){var l;const o=((l=t==null?void 0:t.value)==null?void 0:l.ownerDocument)??(globalThis==null?void 0:globalThis.document),r=w(!1),i=w(()=>{});return P(p=>{if(!A||!C(n))return;const d=async u=>{const s=u.target;if(!(!(t!=null&&t.value)||!s)){if(Q(t.value,s)){r.value=!1;return}if(u.target&&!r.value){let c=function(){G(be,e,y)};const y={originalEvent:u};u.pointerType==="touch"?(o.removeEventListener("click",i.value),i.value=c,o.addEventListener("click",i.value,{once:!0})):c()}else o.removeEventListener("click",i.value);r.value=!1}},m=window.setTimeout(()=>{o.addEventListener("pointerdown",d)},0);p(()=>{window.clearTimeout(m),o.removeEventListener("pointerdown",d),o.removeEventListener("click",i.value)})}),{onPointerDownCapture:()=>{C(n)&&(r.value=!0)}}}function Oe(e,t,n=!0){var i;const o=((i=t==null?void 0:t.value)==null?void 0:i.ownerDocument)??(globalThis==null?void 0:globalThis.document),r=w(!1);return P(l=>{if(!A||!C(n))return;const p=async d=>{if(!(t!=null&&t.value))return;await L(),await L();const m=d.target;!t.value||!m||Q(t.value,m)||d.target&&!r.value&&G(we,e,{originalEvent:d})};o.addEventListener("focusin",p),l(()=>o.removeEventListener("focusin",p))}),{onFocusCapture:()=>{C(n)&&(r.value=!0)},onBlurCapture:()=>{C(n)&&(r.value=!1)}}}const h=$({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ne=W({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(e,{emit:t}){const n=e,o=t,{forwardRef:r,currentElement:i}=V(),l=O(()=>{var a;return((a=i.value)==null?void 0:a.ownerDocument)??globalThis.document}),p=O(()=>h.layersRoot),d=O(()=>i.value?Array.from(p.value).indexOf(i.value):-1),m=O(()=>h.layersWithOutsidePointerEventsDisabled.size>0),u=O(()=>{const a=Array.from(p.value),[v]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),f=a.indexOf(v);return d.value>=f}),s=ge(async a=>{const v=[...h.branches].some(f=>f==null?void 0:f.contains(a.target));!u.value||v||(o("pointerDownOutside",a),o("interactOutside",a),await L(),a.defaultPrevented||o("dismiss"))},i),c=Oe(a=>{[...h.branches].some(f=>f==null?void 0:f.contains(a.target))||(o("focusOutside",a),o("interactOutside",a),a.defaultPrevented||o("dismiss"))},i);te("Escape",a=>{d.value===p.value.size-1&&(o("escapeKeyDown",a),a.defaultPrevented||o("dismiss"))});let y;return P(a=>{i.value&&(n.disableOutsidePointerEvents&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(y=l.value.body.style.pointerEvents,l.value.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(i.value)),p.value.add(i.value),a(()=>{n.disableOutsidePointerEvents&&h.layersWithOutsidePointerEventsDisabled.size===1&&(l.value.body.style.pointerEvents=y)}))}),P(a=>{a(()=>{i.value&&(p.value.delete(i.value),h.layersWithOutsidePointerEventsDisabled.delete(i.value))})}),(a,v)=>(x(),N(g(X),{ref:g(r),"as-child":a.asChild,as:a.as,"data-dismissable-layer":"",style:ae({pointerEvents:m.value?u.value?"auto":"none":void 0}),onFocusCapture:g(c).onFocusCapture,onBlurCapture:g(c).onBlurCapture,onPointerdownCapture:g(s).onPointerDownCapture},{default:z(()=>[R(a.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}});var De=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},D=new WeakMap,F=new WeakMap,T={},_=0,J=function(e){return e&&(e.host||J(e.parentNode))},Se=function(e,t){return t.map(function(n){if(e.contains(n))return n;var o=J(n);return o&&e.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Pe=function(e,t,n,o){var r=Se(t,Array.isArray(e)?e:[e]);T[n]||(T[n]=new WeakMap);var i=T[n],l=[],p=new Set,d=new Set(r),m=function(s){!s||p.has(s)||(p.add(s),m(s.parentNode))};r.forEach(m);var u=function(s){!s||d.has(s)||Array.prototype.forEach.call(s.children,function(c){if(p.has(c))u(c);else try{var y=c.getAttribute(o),a=y!==null&&y!=="false",v=(D.get(c)||0)+1,f=(i.get(c)||0)+1;D.set(c,v),i.set(c,f),l.push(c),v===1&&a&&F.set(c,!0),f===1&&c.setAttribute(n,"true"),a||c.setAttribute(o,"true")}catch(E){console.error("aria-hidden: cannot operate on ",c,E)}})};return u(t),p.clear(),_++,function(){l.forEach(function(s){var c=D.get(s)-1,y=i.get(s)-1;D.set(s,c),i.set(s,y),c||(F.has(s)||s.removeAttribute(o),F.delete(s)),y||s.removeAttribute(n)}),_--,_||(D=new WeakMap,D=new WeakMap,F=new WeakMap,T={})}},Ce=function(e,t,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),r=De(e);return r?(o.push.apply(o,Array.from(r.querySelectorAll("[aria-live]"))),Pe(o,r,n,"aria-hidden")):function(){return null}};function xe(e){let t;q(()=>ne(e),n=>{n?t=Ce(n):t&&t()}),ue(()=>{t&&t()})}function I(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function M(e,t,n=".",o){if(!I(t))return M(e,{},n,o);const r=Object.assign({},t);for(const i in e){if(i==="__proto__"||i==="constructor")continue;const l=e[i];l!=null&&(o&&o(r,i,l,n)||(Array.isArray(l)&&Array.isArray(r[i])?r[i]=[...l,...r[i]]:I(l)&&I(r[i])?r[i]=M(l,r[i],(n?`${n}.`:"")+i.toString(),o):r[i]=l))}return r}function Le(e){return(...t)=>t.reduce((n,o)=>M(n,o,"",e),{})}const Fe=Le(),Te=oe(()=>{const e=w(new Map),t=w(),n=O(()=>{for(const l of e.value.values())if(l)return!0;return!1}),o=de({scrollBody:w(!0)});let r=null;const i=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",K&&(r==null||r()),t.value=void 0};return q(n,(l,p)=>{var s;if(!A)return;if(!l){p&&i();return}t.value===void 0&&(t.value=document.body.style.overflow);const d=window.innerWidth-document.documentElement.clientWidth,m={padding:d,margin:0},u=(s=o.scrollBody)!=null&&s.value?typeof o.scrollBody.value=="object"?Fe({padding:o.scrollBody.value.padding===!0?d:o.scrollBody.value.padding,margin:o.scrollBody.value.margin===!0?d:o.scrollBody.value.margin},m):m:{padding:0,margin:0};d>0&&(document.body.style.paddingRight=typeof u.padding=="number"?`${u.padding}px`:String(u.padding),document.body.style.marginRight=typeof u.margin=="number"?`${u.margin}px`:String(u.margin),document.documentElement.style.setProperty("--scrollbar-width",`${d}px`),document.body.style.overflow="hidden"),K&&(r=re(document,"touchmove",c=>Ae(c),{passive:!1})),L(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function Re(e){const t=Math.random().toString(36).substring(2,7),n=Te();n.value.set(t,e??!1);const o=O({get:()=>n.value.get(t)??!1,set:r=>n.value.set(t,r)});return se(()=>{n.value.delete(t)}),o}function Z(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:Z(n)}}function Ae(e){const t=e||window.event,n=t.target;return n instanceof Element&&Z(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}const Ke=W({__name:"Teleport",props:{to:{default:"body"},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(e){const t=ie();return(n,o)=>g(t)||n.forceMount?(x(),N(le,{key:0,to:n.to,disabled:n.disabled,defer:n.defer},[R(n.$slots,"default")],8,["to","disabled","defer"])):ce("",!0)}});export{Ne as _,Ke as a,We as b,xe as c,G as h,Re as u};
