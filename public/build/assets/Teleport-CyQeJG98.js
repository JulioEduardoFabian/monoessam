import{i as T,o as Q,j as ee,h as te,f as ne,t as oe,k as R,d as se,l as re}from"./index-BQ_qKNoF.js";import{A as w,M as P,v as C,d as M,j as g,Z as H,g as W,o as N,w as $,s as x,u as O,L as ae,k as z,q as ie,i as ue,ac as ce}from"./app-CCCsnncY.js";import{u as q}from"./useForwardExpose-BEKvFuVr.js";import{P as V}from"./Primitive-DYC0qvfw.js";import{g as S,i as le}from"./useForwardPropsEmits-B32JLNxa.js";function Y(e,t,n){const o=n.originalEvent.target,r=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),o.dispatchEvent(r)}const de="dismissableLayer.pointerDownOutside",fe="dismissableLayer.focusOutside";function X(e,t){const n=t.closest("[data-dismissable-layer]"),o=e.dataset.dismissableLayer===""?e:e.querySelector("[data-dismissable-layer]"),r=Array.from(e.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&(o===n||r.indexOf(o)<r.indexOf(n)))}function ve(e,t){var i;const n=((i=t==null?void 0:t.value)==null?void 0:i.ownerDocument)??(globalThis==null?void 0:globalThis.document),o=w(!1),r=w(()=>{});return P(l=>{if(!T)return;const d=async y=>{const u=y.target;if(!(!(t!=null&&t.value)||!u)){if(X(t.value,u)){o.value=!1;return}if(y.target&&!o.value){let s=function(){Y(de,e,c)};const c={originalEvent:y};y.pointerType==="touch"?(n.removeEventListener("click",r.value),r.value=s,n.addEventListener("click",r.value,{once:!0})):s()}else n.removeEventListener("click",r.value);o.value=!1}},v=window.setTimeout(()=>{n.addEventListener("pointerdown",d)},0);l(()=>{window.clearTimeout(v),n.removeEventListener("pointerdown",d),n.removeEventListener("click",r.value)})}),{onPointerDownCapture:()=>o.value=!0}}function pe(e,t){var r;const n=((r=t==null?void 0:t.value)==null?void 0:r.ownerDocument)??(globalThis==null?void 0:globalThis.document),o=w(!1);return P(i=>{if(!T)return;const l=async d=>{if(!(t!=null&&t.value))return;await C(),await C();const v=d.target;!t.value||!v||X(t.value,v)||d.target&&!o.value&&Y(fe,e,{originalEvent:d})};n.addEventListener("focusin",l),i(()=>n.removeEventListener("focusin",l))}),{onFocusCapture:()=>o.value=!0,onBlurCapture:()=>o.value=!1}}const h=H({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Me=M({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(e,{emit:t}){const n=e,o=t,{forwardRef:r,currentElement:i}=q(),l=g(()=>{var a;return((a=i.value)==null?void 0:a.ownerDocument)??globalThis.document}),d=g(()=>h.layersRoot),v=g(()=>i.value?Array.from(d.value).indexOf(i.value):-1),y=g(()=>h.layersWithOutsidePointerEventsDisabled.size>0),u=g(()=>{const a=Array.from(d.value),[p]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),f=a.indexOf(p);return v.value>=f}),s=ve(async a=>{const p=[...h.branches].some(f=>f==null?void 0:f.contains(a.target));!u.value||p||(o("pointerDownOutside",a),o("interactOutside",a),await C(),a.defaultPrevented||o("dismiss"))},i),c=pe(a=>{[...h.branches].some(f=>f==null?void 0:f.contains(a.target))||(o("focusOutside",a),o("interactOutside",a),a.defaultPrevented||o("dismiss"))},i);Q("Escape",a=>{v.value===d.value.size-1&&(o("escapeKeyDown",a),a.defaultPrevented||o("dismiss"))});let m;return P(a=>{i.value&&(n.disableOutsidePointerEvents&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(m=l.value.body.style.pointerEvents,l.value.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(i.value)),d.value.add(i.value),a(()=>{n.disableOutsidePointerEvents&&h.layersWithOutsidePointerEventsDisabled.size===1&&(l.value.body.style.pointerEvents=m)}))}),P(a=>{a(()=>{i.value&&(d.value.delete(i.value),h.layersWithOutsidePointerEventsDisabled.delete(i.value))})}),(a,p)=>(N(),W(O(V),{ref:O(r),"as-child":a.asChild,as:a.as,"data-dismissable-layer":"",style:ae({pointerEvents:y.value?u.value?"auto":"none":void 0}),onFocusCapture:O(c).onFocusCapture,onBlurCapture:O(c).onBlurCapture,onPointerdownCapture:O(s).onPointerDownCapture},{default:$(()=>[x(a.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),ye=ee(()=>w([]));function me(){const e=ye();return{add(t){const n=e.value[0];t!==n&&(n==null||n.pause()),e.value=K(e.value,t),e.value.unshift(t)},remove(t){var n;e.value=K(e.value,t),(n=e.value[0])==null||n.resume()}}}function K(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function he(e){return e.filter(t=>t.tagName!=="A")}const A="focusScope.autoFocusOnMount",k="focusScope.autoFocusOnUnmount",U={bubbles:!1,cancelable:!0};function be(e,{select:t=!1}={}){const n=S();for(const o of e)if(E(o,{select:t}),S()!==n)return!0}function Ee(e){const t=G(e),n=j(t,e),o=j(t.reverse(),e);return[n,o]}function G(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function j(e,t){for(const n of e)if(!we(n,{upTo:t}))return n}function we(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ge(e){return e instanceof HTMLInputElement&&"select"in e}function E(e,{select:t=!1}={}){if(e&&e.focus){const n=S();e.focus({preventScroll:!0}),e!==n&&ge(e)&&t&&e.select()}}const We=M({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,o=t,{currentRef:r,currentElement:i}=q(),l=w(null),d=me(),v=H({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});P(u=>{if(!T)return;const s=i.value;if(!n.trapped)return;function c(f){if(v.paused||!s)return;const b=f.target;s.contains(b)?l.value=b:E(l.value,{select:!0})}function m(f){if(v.paused||!s)return;const b=f.relatedTarget;b!==null&&(s.contains(b)||E(l.value,{select:!0}))}function a(f){s.contains(l.value)||E(s)}document.addEventListener("focusin",c),document.addEventListener("focusout",m);const p=new MutationObserver(a);s&&p.observe(s,{childList:!0,subtree:!0}),u(()=>{document.removeEventListener("focusin",c),document.removeEventListener("focusout",m),p.disconnect()})}),P(async u=>{const s=i.value;if(await C(),!s)return;d.add(v);const c=S();if(!s.contains(c)){const a=new CustomEvent(A,U);s.addEventListener(A,p=>o("mountAutoFocus",p)),s.dispatchEvent(a),a.defaultPrevented||(be(he(G(s)),{select:!0}),S()===c&&E(s))}u(()=>{s.removeEventListener(A,f=>o("mountAutoFocus",f));const a=new CustomEvent(k,U),p=f=>{o("unmountAutoFocus",f)};s.addEventListener(k,p),s.dispatchEvent(a),setTimeout(()=>{a.defaultPrevented||E(c??document.body,{select:!0}),s.removeEventListener(k,p),d.remove(v)},0)})});function y(u){if(!n.loop&&!n.trapped||v.paused)return;const s=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,c=S();if(s&&c){const m=u.currentTarget,[a,p]=Ee(m);a&&p?!u.shiftKey&&c===p?(u.preventDefault(),n.loop&&E(a,{select:!0})):u.shiftKey&&c===a&&(u.preventDefault(),n.loop&&E(p,{select:!0})):c===m&&u.preventDefault()}}return(u,s)=>(N(),W(O(V),{ref_key:"currentRef",ref:r,tabindex:"-1","as-child":u.asChild,as:u.as,onKeydown:y},{default:$(()=>[x(u.$slots,"default")]),_:3},8,["as-child","as"]))}});var Oe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},D=new WeakMap,L=new WeakMap,F={},B=0,Z=function(e){return e&&(e.host||Z(e.parentNode))},De=function(e,t){return t.map(function(n){if(e.contains(n))return n;var o=Z(n);return o&&e.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Se=function(e,t,n,o){var r=De(t,Array.isArray(e)?e:[e]);F[n]||(F[n]=new WeakMap);var i=F[n],l=[],d=new Set,v=new Set(r),y=function(s){!s||d.has(s)||(d.add(s),y(s.parentNode))};r.forEach(y);var u=function(s){!s||v.has(s)||Array.prototype.forEach.call(s.children,function(c){if(d.has(c))u(c);else try{var m=c.getAttribute(o),a=m!==null&&m!=="false",p=(D.get(c)||0)+1,f=(i.get(c)||0)+1;D.set(c,p),i.set(c,f),l.push(c),p===1&&a&&L.set(c,!0),f===1&&c.setAttribute(n,"true"),a||c.setAttribute(o,"true")}catch(b){console.error("aria-hidden: cannot operate on ",c,b)}})};return u(t),d.clear(),B++,function(){l.forEach(function(s){var c=D.get(s)-1,m=i.get(s)-1;D.set(s,c),i.set(s,m),c||(L.has(s)||s.removeAttribute(o),L.delete(s)),m||s.removeAttribute(n)}),B--,B||(D=new WeakMap,D=new WeakMap,L=new WeakMap,F={})}},Pe=function(e,t,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),r=Oe(e);return r?(o.push.apply(o,Array.from(r.querySelectorAll("[aria-live]"))),Se(o,r,n,"aria-hidden")):function(){return null}};function Ne(e){let t;z(()=>te(e),n=>{n?t=Pe(n):t&&t()}),ie(()=>{t&&t()})}function _(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function I(e,t,n=".",o){if(!_(t))return I(e,{},n,o);const r=Object.assign({},t);for(const i in e){if(i==="__proto__"||i==="constructor")continue;const l=e[i];l!=null&&(o&&o(r,i,l,n)||(Array.isArray(l)&&Array.isArray(r[i])?r[i]=[...l,...r[i]]:_(l)&&_(r[i])?r[i]=I(l,r[i],(n?`${n}.`:"")+i.toString(),o):r[i]=l))}return r}function Ce(e){return(...t)=>t.reduce((n,o)=>I(n,o,"",e),{})}const Le=Ce(),Fe=ne(()=>{const e=w(new Map),t=w(),n=g(()=>{for(const l of e.value.values())if(l)return!0;return!1}),o=le({scrollBody:w(!0)});let r=null;const i=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.body.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",R&&(r==null||r()),t.value=void 0};return z(n,(l,d)=>{var s;if(!T)return;if(!l){d&&i();return}t.value===void 0&&(t.value=document.body.style.overflow);const v=window.innerWidth-document.documentElement.clientWidth,y={padding:v,margin:0},u=(s=o.scrollBody)!=null&&s.value?typeof o.scrollBody.value=="object"?Le({padding:o.scrollBody.value.padding===!0?v:o.scrollBody.value.padding,margin:o.scrollBody.value.margin===!0?v:o.scrollBody.value.margin},y):y:{padding:0,margin:0};v>0&&(document.body.style.paddingRight=typeof u.padding=="number"?`${u.padding}px`:String(u.padding),document.body.style.marginRight=typeof u.margin=="number"?`${u.margin}px`:String(u.margin),document.body.style.setProperty("--scrollbar-width",`${v}px`),document.body.style.overflow="hidden"),R&&(r=se(document,"touchmove",c=>Te(c),{passive:!1})),C(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function xe(e){const t=Math.random().toString(36).substring(2,7),n=Fe();n.value.set(t,e??!1);const o=g({get:()=>n.value.get(t)??!1,set:r=>n.value.set(t,r)});return oe(()=>{n.value.delete(t)}),o}function J(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:J(n)}}function Te(e){const t=e||window.event,n=t.target;return n instanceof Element&&J(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}const Re=M({__name:"Teleport",props:{to:{default:"body"},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(e){const t=re();return(n,o)=>O(t)||n.forceMount?(N(),W(ce,{key:0,to:n.to,disabled:n.disabled,defer:n.defer},[x(n.$slots,"default")],8,["to","disabled","defer"])):ue("",!0)}});export{Me as _,Re as a,We as b,Ne as c,Y as h,xe as u};
