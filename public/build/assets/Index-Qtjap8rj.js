import{_ as M}from"./index-Q8qId6Bc.js";import{_ as v,a as S,b as y,c as $,d as g,e as w,f as V}from"./SelectValue.vue_vue_type_script_setup_true_lang-BBnQYAUL.js";import{_ as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-dPucuV3Q.js";import{d as j,l as r,n as F,q as H,c as p,o as i,a as e,u as t,m as L,w as o,b as k,e as n,F as c,k as h,g as A,t as T}from"./app-DeXducem.js";import{_ as P}from"./Alert.vue_vue_type_script_setup_true_lang-DSfCz_M-.js";import{_ as R}from"./DinnersTable.vue_vue_type_script_setup_true_lang-LGSXVD0F.js";import{_ as z}from"./ExcelDialog.vue_vue_type_script_setup_true_lang-CILlxvAy.js";import{_ as E}from"./PricesDialog.vue_vue_type_script_setup_true_lang-C66UMPwb.js";import{_ as G}from"./SalesCard.vue_vue_type_script_setup_true_lang-CIDeLr9t.js";import{_ as J}from"./SalesTable.vue_vue_type_script_setup_true_lang-DmUF9xwL.js";import{c as K}from"./createLucideIcon-8uXCn54e.js";import"./utils-bRKmu4jq.js";import"./index-dkW4UkYo.js";import"./Primitive-BsNpviz9.js";import"./useForwardPropsEmits-Cql9WlHh.js";import"./index-BbGPEdCN.js";import"./Teleport-Dt4wdgbd.js";import"./useForwardExpose-B6Lqpa4_.js";import"./Collection-BQiVaMbH.js";import"./usePrimitiveElement-Cz86qkTC.js";import"./check-BxBxzToH.js";import"./utils-hsSzk9YK.js";import"./useFocusGuards-BE4NKFqR.js";import"./useTypeahead-BO6CC3L4.js";import"./VisuallyHidden-BBLdTjSp.js";import"./nullish-CHIgUVhi.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D53krJOM.js";import"./RovingFocusGroup-BUPSqIJO.js";import"./x-BxjddHSX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./building-2-DPRhtNGF.js";import"./user-BHJluSva.js";import"./chevron-right-bpUop2re.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-DZHYLzXa.js";import"./RovingFocusItem-5zSQaG1r.js";import"./Input.vue_vue_type_script_setup_true_lang-BK5x5j0-.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-CG-8gOIY.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-BCOtVmmi.js";import"./Card.vue_vue_type_script_setup_true_lang-YOvM_H5K.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-ClCSX0-P.js";import"./TableCell.vue_vue_type_script_setup_true_lang-CACD-vwh.js";import"./SaleDetailsPopover.vue_vue_type_script_setup_true_lang-DntPIifz.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-CyWl4TJk.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=K("UserRoundPlusIcon",[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M22 19h-6",key:"vcuq98"}]]),Q={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},W={class:"flex h-[40px] w-full items-center justify-start gap-1"},X={class:"grid auto-rows-min gap-4 md:grid-cols-2"},Re=j({__name:"Index",props:{dinners:{},services:{},units:{},cafes:{},sale_types:{},receipt_types:{},sales:{}},setup(q){const d=r(0),f=r(0),m=r([]),u=r([]),_=r(0);F().props.auth;const D=q,U=a=>u.value.some(l=>l.serviceID===a.id),B=a=>{if(U(a)){u.value=u.value.filter(l=>l.serviceID!==a.id);return}u.value.push({serviceID:a.id,quantity:a.quantity||1,price:a.quantity*a.pivot.price,code:a.code,name:a.name,unit_price:a.pivot.price})},x=r(!1),b=r(""),I=r(""),C=(a,l)=>{var s;b.value=((s=l.response)==null?void 0:s.data.message)||l||"Ha ocurrido un error inesperado.",I.value=a,x.value=!0};return H(d,a=>{const l=D.cafes.find(s=>s.id===a);console.log(l),l?m.value=l.services:m.value=[]}),(a,l)=>(i(),p(c,null,[e(t(L),{title:"Comensales"}),e(N,null,{default:o(()=>[e(P,{showAlert:x.value,type:I.value,description:b.value},null,8,["showAlert","type","description"]),k("div",Q,[k("div",W,[e(t(v),{class:"w-full",modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=s=>_.value=s)},{default:o(()=>[e(t(S),null,{default:o(()=>[e(t(y),{placeholder:"Selecciona un tipo de documento"})]),_:1}),e(t($),null,{default:o(()=>[e(t(g),null,{default:o(()=>[e(t(w),null,{default:o(()=>l[3]||(l[3]=[n("Tipo de Documento")])),_:1}),(i(!0),p(c,null,h(a.receipt_types,s=>(i(),A(t(V),{value:s.id,key:s.id},{default:o(()=>[n(T(s.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(t(v),{class:"w-full",modelValue:f.value,"onUpdate:modelValue":l[1]||(l[1]=s=>f.value=s)},{default:o(()=>[e(t(S),null,{default:o(()=>[e(t(y),{placeholder:"Selecciona un tipo de venta"})]),_:1}),e(t($),null,{default:o(()=>[e(t(g),null,{default:o(()=>[e(t(w),null,{default:o(()=>l[4]||(l[4]=[n("Tipo de Venta")])),_:1}),(i(!0),p(c,null,h(a.sale_types,s=>(i(),A(t(V),{value:s.id,key:s.id},{default:o(()=>[n(T(s.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(t(v),{class:"w-full",modelValue:d.value,"onUpdate:modelValue":l[2]||(l[2]=s=>d.value=s)},{default:o(()=>[e(t(S),null,{default:o(()=>[e(t(y),{placeholder:"Selecciona una cafetería"})]),_:1}),e(t($),null,{default:o(()=>[e(t(g),null,{default:o(()=>[e(t(w),null,{default:o(()=>l[5]||(l[5]=[n("Cafeterías Autorizadas")])),_:1}),(i(!0),p(c,null,h(a.cafes,s=>(i(),A(t(V),{value:s.id,key:s.id},{default:o(()=>[n(T(s.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(M,{class:"bg-blue-500"},{default:o(()=>[e(t(O))]),_:1}),e(z),e(E,{services:m.value},null,8,["services"])]),k("div",X,[e(G,{services:a.services,cafeSelected:d.value,saletypeSelected:f.value,servicesSelectedToSale:u.value,receiptType:_.value,onHandleShowAlert:C},null,8,["services","cafeSelected","saletypeSelected","servicesSelectedToSale","receiptType"]),e(R,{dinners:a.dinners,services:m.value,onAddServiceSelected:B},null,8,["dinners","services"]),e(J,{sales:a.sales},null,8,["sales"])])])]),_:1})],64))}});export{Re as default};
