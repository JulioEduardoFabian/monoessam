import{_ as w}from"./index-BKNcCfrT.js";import{_ as N}from"./Input.vue_vue_type_script_setup_true_lang-B9zXiJL4.js";import{c as A,_ as I,a as $,b as C}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-CnLSG0f-.js";import{_ as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-DtTiODGb.js";import{d as V,k as g,c as l,o as i,a,u as n,m as D,w as d,b as r,e as j,F as p,l as k,v as m,t as u,W as F,s as P}from"./app-DukjeBlQ.js";import{_ as W}from"./AreaModal.vue_vue_type_script_setup_true_lang-DiUcm6UR.js";import{_ as z}from"./Modal.vue_vue_type_script_setup_true_lang-33SQhz_h.js";import{_ as G}from"./PermissionModal.vue_vue_type_script_setup_true_lang-C7grUn0l.js";import{_ as M}from"./RoleModal.vue_vue_type_script_setup_true_lang-DAIwsN_I.js";import{_ as O}from"./RolePermissionPopover.vue_vue_type_script_setup_true_lang-Cyxy59WS.js";import{c as T}from"./createLucideIcon-CC9FwPDy.js";import"./utils-bRKmu4jq.js";import"./index-dkW4UkYo.js";import"./Primitive-CL45oa_y.js";import"./index-CwvBt_MV.js";import"./useForwardPropsEmits-Cqv6h3ID.js";import"./useForwardExpose-CZ7Yw5g_.js";import"./RovingFocusGroup-DXkRqdXa.js";import"./Collection-DGETcuSV.js";import"./usePrimitiveElement-yyA821CA.js";import"./RovingFocusItem-DRMAjPtL.js";import"./useFocusGuards-Bf0aebo0.js";import"./Teleport-4QoL-0pg.js";import"./VisuallyHidden-vyUhfAoA.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DCvF4rID.js";import"./utils-BKQlEOSP.js";import"./useTypeahead-C2sDAK77.js";import"./x-B8fWZ8WI.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./building-2-CFsguNdm.js";import"./user-ZbmkoQN5.js";import"./chevron-right-DBsyOGqS.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-Du0WfFxI.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-D-DwvwsP.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-ClYbLnC8.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-KnEHHwMB.js";import"./chevron-down-CUQSugxY.js";import"./check-CzugWCEF.js";import"./nullish-CHIgUVhi.js";import"./lamp-desk-Cv4muZPd.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-DVt7ayWY.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=T("BanIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),H={class:"flex h-full flex-1 flex-col gap-6 p-6"},J={class:"flex h-12 w-full items-center justify-start gap-3 rounded-lg bg-gradient-to-r from-blue-50 to-purple-50 p-2 shadow-sm dark:from-gray-700 dark:to-gray-700"},K={class:"grid h-full auto-rows-fr gap-6 md:grid-cols-3"},Q={class:"flex flex-col gap-4 rounded-lg bg-white p-4 shadow-sm dark:bg-gray-800"},R={class:"space-y-2 overflow-y-auto"},X=["onClick"],Y={class:"font-medium text-gray-700 dark:text-gray-200"},Z=["onClick"],ee={class:"font-medium text-gray-700 dark:text-gray-200"},re={class:"flex flex-col gap-4 rounded-lg bg-white p-4 shadow-sm dark:bg-gray-800"},te={class:"space-y-2 overflow-y-auto"},ae=["onClick"],se={class:"font-medium text-gray-700 dark:text-gray-200"},oe={class:"flex flex-col gap-4 rounded-lg bg-white p-4 shadow-sm dark:bg-gray-800"},le={key:0,class:"flex h-14 items-center justify-center rounded-lg bg-red-100 p-3 text-red-600 dark:bg-red-900/30 dark:text-red-300"},ie={key:1,class:"space-y-3 overflow-y-auto"},ne=["onClick"],de={class:"flex items-center justify-between"},ue={class:"font-medium text-gray-800 dark:text-gray-100"},ge={class:"text-sm text-gray-500 dark:text-gray-400"},ce={class:"mt-2 flex justify-end gap-1"},rr=V({__name:"Index",props:{users:{},roles:{},permissions:{},areas:{},cafes:{},headquarters:{}},setup(pe){const _=g([]),b=g([]),f=g(!1),x=g(null),h=g(null),v=g(null),y=t=>{x.value=t,h.value=null,v.value=null,_.value=t.areas,b.value=[],f.value=!1},q=t=>{h.value=t,v.value=null,t.users.length!==0?(b.value=t.users,f.value=!1):(b.value=[],f.value=!0)},S=t=>{v.value=t},U=t=>{confirm("¿Estás seguro de que deseas enviar a lista negra a este usuario?")&&F.get(route("blacklist",t))},E=t=>{confirm("¿Estás seguro de que deseas dar de baja a este usuario?")&&P.get("./users-ban/"+t).then(()=>{console.log("sending message")}).catch(s=>{console.error("Error al dar de baja al usuario:",s),alert("Ocurrió un error al dar de baja al usuario. Por favor, inténtalo de nuevo.")})};return(t,s)=>(i(),l(p,null,[a(n(D),{title:"Usuarios"}),a(L,null,{default:d(()=>[r("div",H,[r("div",J,[a(G,{class:"rounded p-1 text-blue-600 transition-colors hover:bg-blue-100 hover:text-blue-700 dark:text-blue-400 dark:hover:bg-blue-900/30"}),a(z,{cafes:t.cafes,headquarters:t.headquarters,roles:t.roles,class:"rounded p-1 text-purple-600 transition-colors hover:bg-purple-100 hover:text-purple-700 dark:text-purple-400 dark:hover:bg-purple-900/30"},null,8,["cafes","headquarters","roles"]),a(M,{areas:t.areas,class:"rounded p-1 text-green-600 transition-colors hover:bg-green-100 hover:text-green-700 dark:text-green-400 dark:hover:bg-green-900/30"},null,8,["areas"]),a(W,{cafes:t.cafes,headquarters:t.headquarters,class:"rounded p-1 text-orange-600 transition-colors hover:bg-orange-100 hover:text-orange-700 dark:text-orange-400 dark:hover:bg-orange-900/30"},null,8,["cafes","headquarters"])]),r("div",K,[r("div",Q,[s[2]||(s[2]=r("h2",{class:"text-lg font-semibold text-gray-800 dark:text-white"},[r("span",{class:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},"Lugares")],-1)),a(N,{type:"text",class:"w-full rounded-lg border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",placeholder:"Buscar lugar..."}),r("div",R,[a(n(A),{"default-value":"account",class:"w-full"},{default:d(()=>[a(n(I),{class:"grid w-full grid-cols-2 bg-gray-100 dark:bg-gray-700"},{default:d(()=>[a(n($),{value:"areas",class:"data-[state=active]:bg-blue-500 data-[state=active]:text-white"},{default:d(()=>s[0]||(s[0]=[j(" Sedes ")])),_:1}),a(n($),{value:"cafes",class:"data-[state=active]:bg-purple-500 data-[state=active]:text-white"},{default:d(()=>s[1]||(s[1]=[j(" Cafeterías ")])),_:1})]),_:1}),a(n(C),{value:"areas"},{default:d(()=>[(i(!0),l(p,null,k(t.headquarters,e=>{var o;return i(),l("div",{key:e.id,class:m(["my-1 flex h-14 cursor-pointer items-center rounded-lg border border-gray-200 p-3 transition-all hover:bg-blue-50 hover:shadow-md dark:border-gray-600 dark:hover:bg-blue-900/20",{"border-blue-300 bg-blue-100 dark:bg-blue-900/40":((o=x.value)==null?void 0:o.id)===e.id}]),onClick:c=>y(e)},[r("p",Y,u(e.business.name)+" - "+u(e.name),1)],10,X)}),128))]),_:1}),a(n(C),{value:"cafes"},{default:d(()=>[(i(!0),l(p,null,k(t.cafes,e=>{var o;return i(),l("div",{key:e.id,class:m(["my-1 flex h-14 cursor-pointer items-center rounded-lg border border-gray-200 p-3 transition-all hover:bg-purple-50 hover:shadow-md dark:border-gray-600 dark:hover:bg-purple-900/20",{"border-purple-300 bg-purple-100 dark:bg-purple-900/40":((o=x.value)==null?void 0:o.id)===e.id}]),onClick:c=>y(e)},[r("p",ee,u(e.name),1)],10,Z)}),128))]),_:1})]),_:1})])]),r("div",re,[s[3]||(s[3]=r("h2",{class:"text-lg font-semibold text-gray-800 dark:text-white"},[r("span",{class:"bg-gradient-to-r from-green-600 to-teal-600 bg-clip-text text-transparent"},"Áreas")],-1)),r("div",te,[(i(!0),l(p,null,k(_.value,e=>{var o;return i(),l("div",{key:e.id,class:m(["flex h-14 cursor-pointer items-center rounded-lg border border-gray-200 p-3 transition-all hover:bg-green-50 hover:shadow-md dark:border-gray-600 dark:hover:bg-green-900/20",{"border-green-300 bg-green-100 dark:bg-green-900/40":((o=h.value)==null?void 0:o.id)===e.id}]),onClick:c=>q(e)},[r("p",se,u(e.name),1)],10,ae)}),128))])]),r("div",oe,[s[5]||(s[5]=r("h2",{class:"text-lg font-semibold text-gray-800 dark:text-white"},[r("span",{class:"bg-gradient-to-r from-orange-600 to-pink-600 bg-clip-text text-transparent"},"Usuarios")],-1)),f.value?(i(),l("div",le,s[4]||(s[4]=[r("p",null,"No se encontraron usuarios en esta área",-1)]))):(i(),l("div",ie,[(i(!0),l(p,null,k(b.value,e=>{var o;return i(),l("div",{key:e.id,class:m(["rounded-lg border border-gray-200 p-3 transition-all hover:shadow-md dark:border-gray-600",{"border-indigo-300 bg-indigo-50 dark:bg-indigo-900/30":((o=v.value)==null?void 0:o.id)===e.id}]),onClick:c=>S(e)},[r("div",de,[r("div",null,[r("p",ue,u(e.name),1),r("p",ge,u(e.email),1)]),r("span",{class:m(["rounded-full px-2 py-1 text-xs font-medium",{"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":e.roles[0].name==="Admin","bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":e.roles[0].name==="Manager","bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":e.roles[0].name==="Employee","bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200":e.roles[0].name==="Guest"}])},u(e.roles[0].name),3)]),r("div",ce,[a(w,{class:"bg-red-500",title:"Dar de baja",onClick:c=>E(e.id)},{default:d(()=>[a(n(B))]),_:2},1032,["onClick"]),a(w,{onClick:c=>U(e.id),title:"Pasar a lista negra"},{default:d(()=>[a(n(B))]),_:2},1032,["onClick"]),a(O,{role:e.roles[0],permissions:t.permissions,class:"text-xs text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300"},null,8,["role","permissions"])])],10,ne)}),128))]))])])])]),_:1})],64))}});export{rr as default};
