import{_ as C}from"./index-RqSUGb25.js";import{_ as p}from"./index-B2VE9g76.js";import{_ as z}from"./AppLayout.vue_vue_type_script_setup_true_lang-C_Q8qAPY.js";import{d as S,j as E,s as $,c as d,o as n,a as s,u as r,m as V,w as l,b as t,F as h,p as x,t as f,n as B,e as I,g as L,i as M,v as _}from"./app-gVZsnVJw.js";import{_ as N}from"./ChangeStatusModal.vue_vue_type_script_setup_true_lang-DGt2CR04.js";import{_ as j}from"./StaffRegistrationDialog.vue_vue_type_script_setup_true_lang-DF2k6_tk.js";import{c as u}from"./createLucideIcon-DO0yoiZi.js";import"./Primitive-DqL_AGDp.js";import"./utils-bRKmu4jq.js";import"./index-dkW4UkYo.js";import"./Presence-f8jE4ssm.js";import"./useForwardExpose-D2W-IXWm.js";import"./PopperContent-CVKef_Gu.js";import"./Teleport-C7Aof7ik.js";import"./VisuallyHidden-DX5xqTff.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-5fgT8D0-.js";import"./utils-BZXyX-Hu.js";import"./useTypeahead-CH2kZ8wz.js";import"./RovingFocusGroup-VL7gCHo8.js";import"./usePrimitiveElement-DCOuDcMG.js";import"./Collection-tz82lNOS.js";import"./DialogTitle-CfDYQyHJ.js";import"./x-45XF_bXR.js";import"./DialogDescription-CzgdA5F6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./hand-helping-CaOQFarU.js";import"./building-2-BZ3YMAWC.js";import"./user-CY1C2_xt.js";import"./chevron-right-DrNF32Hf.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-zDTXgsG_.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-CSXWUQqH.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-BQlACGft.js";import"./index-BEwNDr-n.js";import"./DialogDescription.vue_vue_type_script_setup_true_lang-C4PlXpd3.js";import"./Input.vue_vue_type_script_setup_true_lang-CHhK3tOa.js";import"./Label.vue_vue_type_script_setup_true_lang-BgzicJBB.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-8qB8iCAq.js";import"./chevron-down-Deg17axl.js";import"./check-BlXPN-6q.js";import"./TabsTrigger.vue_vue_type_script_setup_true_lang-CgNAxjhq.js";import"./RovingFocusItem-Di8dfM9z.js";import"./AlertErrors.vue_vue_type_script_setup_true_lang-BM4Tsfx3.js";import"./InputSearchRole.vue_vue_type_script_setup_true_lang-DcphQVy6.js";import"./plus-CRSbxXH9.js";import"./circle-alert-BXHBzl4P.js";import"./InputSearchSelectable.vue_vue_type_script_setup_true_lang-NTaio6Po.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=u("BanIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=u("EyeIcon",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=u("PenLineIcon",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=u("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),A={class:"flex h-full flex-1 flex-col gap-6 rounded-xl p-4"},H={class:"flex items-center justify-between"},O={class:"bg-card rounded-xl border shadow-sm"},R={class:"w-full border-collapse"},q={class:"p-4"},G={class:"p-4"},J={class:"p-4"},K={class:"p-4"},Q=["href"],U={class:"p-4"},W={class:"p-4 text-center"},X={class:"flex items-center justify-center gap-3"},qt=S({__name:"Index",props:{cafes:{},staff:{},roles:{}},setup(y){const c=y,m=E(c.staff),b=async a=>{if(confirm("Estás seguro de eliminar a este personal?"))try{await _.delete("/staff/"+a),m.value=m.value.filter(e=>e.id!==a)}catch(e){console.error("Error al eliminar personal:",e)}},g=async a=>{if(confirm("Estás seguro de enviar a lista negra a este personal? Se perderán sus archivos y datos, excepto telefono, nombre y dni"))try{await _.get("/staff/ban/"+a).then(e=>{m.value=e.data.staff}).catch(e=>{console.log(e)})}catch(e){console.log(e)}},v=a=>({0:"Lista negra",1:"En proceso",2:"Contratado",3:"Cesado",4:"Retirado",5:"Abandono",6:"Cumplió Contrato"})[a],k=a=>({0:"bg-zinc-500 text-white",1:"bg-green-500 text-white",2:"bg-green-500 text-white",3:"bg-red-500 text-white",4:"bg-red-500 text-white",5:"bg-red-500 text-white",6:"bg-blue-500 text-white"})[a],w=()=>{};return $(c,a=>{m.value=c.staff}),(a,e)=>(n(),d(h,null,[s(r(V),{title:"Personal"}),s(z,null,{default:l(()=>[t("div",A,[t("div",H,[e[1]||(e[1]=t("h1",{class:"text-2xl font-semibold tracking-tight"},"Personal",-1)),s(j,{cafes:c.cafes,roles:c.roles},null,8,["cafes","roles"])]),t("div",O,[t("table",R,[e[2]||(e[2]=t("thead",{class:"bg-muted/50"},[t("tr",null,[t("th",{class:"p-4 text-left text-sm font-semibold"},"Nombre"),t("th",{class:"p-4 text-left text-sm font-semibold"},"DNI"),t("th",{class:"p-4 text-left text-sm font-semibold"},"Celular"),t("th",{class:"p-4 text-left text-sm font-semibold"},"Documentación"),t("th",{class:"p-4 text-left text-sm font-semibold"},"Estado"),t("th",{class:"p-4 text-center text-sm font-semibold"},"Opciones")])],-1)),t("tbody",null,[(n(!0),d(h,null,x(m.value,o=>(n(),d("tr",{key:o.id,class:"hover:bg-muted/30 border-t transition"},[t("td",q,f(o.name),1),t("td",G,f(o.dni),1),t("td",J,f(o.cell),1),t("td",K,[(n(!0),d(h,null,x(o.staff_files,i=>(n(),d("a",{class:"mx-2 rounded bg-red-400 px-2 text-white",href:"/storage/"+i.file_path,target:"_blank",key:i.id},f(i.file_type),9,Q))),128))]),t("td",U,[s(r(C),{class:B([k(o.status),"cursor-pointer"]),onClick:e[0]||(e[0]=i=>w())},{default:l(()=>[I(f(v(o.status)),1)]),_:2},1032,["class"])]),t("td",W,[t("div",X,[s(N,{staff:o},null,8,["staff"]),s(r(p),{variant:"ghost",size:"icon",class:"cursor-pointer text-blue-600 hover:text-blue-800"},{default:l(()=>[s(r(D),{class:"h-4 w-4"})]),_:1}),s(r(p),{variant:"ghost",size:"icon",class:"cursor-pointer text-yellow-600 hover:text-yellow-800"},{default:l(()=>[s(r(T),{class:"h-4 w-4"})]),_:1}),s(r(p),{variant:"ghost",size:"icon",class:"cursor-pointer text-red-600 hover:text-red-800",onClick:i=>b(o.id)},{default:l(()=>[s(r(F),{class:"h-4 w-4"})]),_:2},1032,["onClick"]),o.status!=0?(n(),L(r(p),{key:0,variant:"ghost",size:"icon",class:"text-zinc-600 hover:text-zinc-800",onClick:i=>g(o.id)},{default:l(()=>[s(r(P),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):M("",!0)])])]))),128))])])])])]),_:1})],64))}});export{qt as default};
