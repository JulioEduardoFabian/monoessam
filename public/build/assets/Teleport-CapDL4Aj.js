import{i as T,o as ee,j as te,h as ne,f as oe,t as se,k as R,b as re,l as ae}from"./index-CcEa8fad.js";import{k as w,z as P,Q as K,a2 as C,d as M,A as g,X as $,g as W,o as N,w as z,j as x,u as O,I as ie,q,D as ue,i as ce,ae as le}from"./app-DP6Rzc-B.js";import{u as V}from"./useForwardExpose-Ddxpw_-r.js";import{P as X}from"./Primitive-CEc2e5l3.js";import{g as S,i as de}from"./useForwardPropsEmits-B6Ggofp_.js";function Y(e,t,n){const o=n.originalEvent.target,r=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),o.dispatchEvent(r)}const fe="dismissableLayer.pointerDownOutside",ve="dismissableLayer.focusOutside";function G(e,t){const n=t.closest("[data-dismissable-layer]"),o=e.dataset.dismissableLayer===""?e:e.querySelector("[data-dismissable-layer]"),r=Array.from(e.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&(o===n||r.indexOf(o)<r.indexOf(n)))}function pe(e,t,n=!0){var l;const o=((l=t==null?void 0:t.value)==null?void 0:l.ownerDocument)??(globalThis==null?void 0:globalThis.document),r=w(!1),a=w(()=>{});return P(v=>{if(!T||!K(n))return;const d=async u=>{const s=u.target;if(!(!(t!=null&&t.value)||!s)){if(G(t.value,s)){r.value=!1;return}if(u.target&&!r.value){let c=function(){Y(fe,e,y)};const y={originalEvent:u};u.pointerType==="touch"?(o.removeEventListener("click",a.value),a.value=c,o.addEventListener("click",a.value,{once:!0})):c()}else o.removeEventListener("click",a.value);r.value=!1}},m=window.setTimeout(()=>{o.addEventListener("pointerdown",d)},0);v(()=>{window.clearTimeout(m),o.removeEventListener("pointerdown",d),o.removeEventListener("click",a.value)})}),{onPointerDownCapture:()=>{K(n)&&(r.value=!0)}}}function ye(e,t){var r;const n=((r=t==null?void 0:t.value)==null?void 0:r.ownerDocument)??(globalThis==null?void 0:globalThis.document),o=w(!1);return P(a=>{if(!T)return;const l=async v=>{if(!(t!=null&&t.value))return;await C(),await C();const d=v.target;!t.value||!d||G(t.value,d)||v.target&&!o.value&&Y(ve,e,{originalEvent:v})};n.addEventListener("focusin",l),a(()=>n.removeEventListener("focusin",l))}),{onFocusCapture:()=>o.value=!0,onBlurCapture:()=>o.value=!1}}const h=$({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),We=M({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(e,{emit:t}){const n=e,o=t,{forwardRef:r,currentElement:a}=V(),l=g(()=>{var i;return((i=a.value)==null?void 0:i.ownerDocument)??globalThis.document}),v=g(()=>h.layersRoot),d=g(()=>a.value?Array.from(v.value).indexOf(a.value):-1),m=g(()=>h.layersWithOutsidePointerEventsDisabled.size>0),u=g(()=>{const i=Array.from(v.value),[p]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),f=i.indexOf(p);return d.value>=f}),s=pe(async i=>{const p=[...h.branches].some(f=>f==null?void 0:f.contains(i.target));!u.value||p||(o("pointerDownOutside",i),o("interactOutside",i),await C(),i.defaultPrevented||o("dismiss"))},a),c=ye(i=>{[...h.branches].some(f=>f==null?void 0:f.contains(i.target))||(o("focusOutside",i),o("interactOutside",i),i.defaultPrevented||o("dismiss"))},a);ee("Escape",i=>{d.value===v.value.size-1&&(o("escapeKeyDown",i),i.defaultPrevented||o("dismiss"))});let y;return P(i=>{a.value&&(n.disableOutsidePointerEvents&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(y=l.value.body.style.pointerEvents,l.value.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(a.value)),v.value.add(a.value),i(()=>{n.disableOutsidePointerEvents&&h.layersWithOutsidePointerEventsDisabled.size===1&&(l.value.body.style.pointerEvents=y)}))}),P(i=>{i(()=>{a.value&&(v.value.delete(a.value),h.layersWithOutsidePointerEventsDisabled.delete(a.value))})}),(i,p)=>(N(),W(O(X),{ref:O(r),"as-child":i.asChild,as:i.as,"data-dismissable-layer":"",style:ie({pointerEvents:m.value?u.value?"auto":"none":void 0}),onFocusCapture:O(c).onFocusCapture,onBlurCapture:O(c).onBlurCapture,onPointerdownCapture:O(s).onPointerDownCapture},{default:z(()=>[x(i.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),me=te(()=>w([]));function he(){const e=me();return{add(t){const n=e.value[0];t!==n&&(n==null||n.pause()),e.value=U(e.value,t),e.value.unshift(t)},remove(t){var n;e.value=U(e.value,t),(n=e.value[0])==null||n.resume()}}}function U(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function be(e){return e.filter(t=>t.tagName!=="A")}const A="focusScope.autoFocusOnMount",k="focusScope.autoFocusOnUnmount",j={bubbles:!1,cancelable:!0};function Ee(e,{select:t=!1}={}){const n=S();for(const o of e)if(E(o,{select:t}),S()!==n)return!0}function we(e){const t=Q(e),n=H(t,e),o=H(t.reverse(),e);return[n,o]}function Q(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function H(e,t){for(const n of e)if(!ge(n,{upTo:t}))return n}function ge(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Oe(e){return e instanceof HTMLInputElement&&"select"in e}function E(e,{select:t=!1}={}){if(e&&e.focus){const n=S();e.focus({preventScroll:!0}),e!==n&&Oe(e)&&t&&e.select()}}const Ne=M({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,o=t,{currentRef:r,currentElement:a}=V(),l=w(null),v=he(),d=$({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});P(u=>{if(!T)return;const s=a.value;if(!n.trapped)return;function c(f){if(d.paused||!s)return;const b=f.target;s.contains(b)?l.value=b:E(l.value,{select:!0})}function y(f){if(d.paused||!s)return;const b=f.relatedTarget;b!==null&&(s.contains(b)||E(l.value,{select:!0}))}function i(f){s.contains(l.value)||E(s)}document.addEventListener("focusin",c),document.addEventListener("focusout",y);const p=new MutationObserver(i);s&&p.observe(s,{childList:!0,subtree:!0}),u(()=>{document.removeEventListener("focusin",c),document.removeEventListener("focusout",y),p.disconnect()})}),P(async u=>{const s=a.value;if(await C(),!s)return;v.add(d);const c=S();if(!s.contains(c)){const i=new CustomEvent(A,j);s.addEventListener(A,p=>o("mountAutoFocus",p)),s.dispatchEvent(i),i.defaultPrevented||(Ee(be(Q(s)),{select:!0}),S()===c&&E(s))}u(()=>{s.removeEventListener(A,f=>o("mountAutoFocus",f));const i=new CustomEvent(k,j),p=f=>{o("unmountAutoFocus",f)};s.addEventListener(k,p),s.dispatchEvent(i),setTimeout(()=>{i.defaultPrevented||E(c??document.body,{select:!0}),s.removeEventListener(k,p),v.remove(d)},0)})});function m(u){if(!n.loop&&!n.trapped||d.paused)return;const s=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,c=S();if(s&&c){const y=u.currentTarget,[i,p]=we(y);i&&p?!u.shiftKey&&c===p?(u.preventDefault(),n.loop&&E(i,{select:!0})):u.shiftKey&&c===i&&(u.preventDefault(),n.loop&&E(p,{select:!0})):c===y&&u.preventDefault()}}return(u,s)=>(N(),W(O(X),{ref_key:"currentRef",ref:r,tabindex:"-1","as-child":u.asChild,as:u.as,onKeydown:m},{default:z(()=>[x(u.$slots,"default")]),_:3},8,["as-child","as"]))}});var De=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},D=new WeakMap,L=new WeakMap,F={},B=0,J=function(e){return e&&(e.host||J(e.parentNode))},Se=function(e,t){return t.map(function(n){if(e.contains(n))return n;var o=J(n);return o&&e.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Pe=function(e,t,n,o){var r=Se(t,Array.isArray(e)?e:[e]);F[n]||(F[n]=new WeakMap);var a=F[n],l=[],v=new Set,d=new Set(r),m=function(s){!s||v.has(s)||(v.add(s),m(s.parentNode))};r.forEach(m);var u=function(s){!s||d.has(s)||Array.prototype.forEach.call(s.children,function(c){if(v.has(c))u(c);else try{var y=c.getAttribute(o),i=y!==null&&y!=="false",p=(D.get(c)||0)+1,f=(a.get(c)||0)+1;D.set(c,p),a.set(c,f),l.push(c),p===1&&i&&L.set(c,!0),f===1&&c.setAttribute(n,"true"),i||c.setAttribute(o,"true")}catch(b){console.error("aria-hidden: cannot operate on ",c,b)}})};return u(t),v.clear(),B++,function(){l.forEach(function(s){var c=D.get(s)-1,y=a.get(s)-1;D.set(s,c),a.set(s,y),c||(L.has(s)||s.removeAttribute(o),L.delete(s)),y||s.removeAttribute(n)}),B--,B||(D=new WeakMap,D=new WeakMap,L=new WeakMap,F={})}},Ce=function(e,t,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),r=De(e);return r?(o.push.apply(o,Array.from(r.querySelectorAll("[aria-live]"))),Pe(o,r,n,"aria-hidden")):function(){return null}};function xe(e){let t;q(()=>ne(e),n=>{n?t=Ce(n):t&&t()}),ue(()=>{t&&t()})}function _(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function I(e,t,n=".",o){if(!_(t))return I(e,{},n,o);const r=Object.assign({},t);for(const a in e){if(a==="__proto__"||a==="constructor")continue;const l=e[a];l!=null&&(o&&o(r,a,l,n)||(Array.isArray(l)&&Array.isArray(r[a])?r[a]=[...l,...r[a]]:_(l)&&_(r[a])?r[a]=I(l,r[a],(n?`${n}.`:"")+a.toString(),o):r[a]=l))}return r}function Le(e){return(...t)=>t.reduce((n,o)=>I(n,o,"",e),{})}const Fe=Le(),Te=oe(()=>{const e=w(new Map),t=w(),n=g(()=>{for(const l of e.value.values())if(l)return!0;return!1}),o=de({scrollBody:w(!0)});let r=null;const a=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",R&&(r==null||r()),t.value=void 0};return q(n,(l,v)=>{var s;if(!T)return;if(!l){v&&a();return}t.value===void 0&&(t.value=document.body.style.overflow);const d=window.innerWidth-document.documentElement.clientWidth,m={padding:d,margin:0},u=(s=o.scrollBody)!=null&&s.value?typeof o.scrollBody.value=="object"?Fe({padding:o.scrollBody.value.padding===!0?d:o.scrollBody.value.padding,margin:o.scrollBody.value.margin===!0?d:o.scrollBody.value.margin},m):m:{padding:0,margin:0};d>0&&(document.body.style.paddingRight=typeof u.padding=="number"?`${u.padding}px`:String(u.padding),document.body.style.marginRight=typeof u.margin=="number"?`${u.margin}px`:String(u.margin),document.documentElement.style.setProperty("--scrollbar-width",`${d}px`),document.body.style.overflow="hidden"),R&&(r=re(document,"touchmove",c=>Ae(c),{passive:!1})),C(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function Re(e){const t=Math.random().toString(36).substring(2,7),n=Te();n.value.set(t,e??!1);const o=g({get:()=>n.value.get(t)??!1,set:r=>n.value.set(t,r)});return se(()=>{n.value.delete(t)}),o}function Z(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:Z(n)}}function Ae(e){const t=e||window.event,n=t.target;return n instanceof Element&&Z(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}const Ke=M({__name:"Teleport",props:{to:{default:"body"},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(e){const t=ae();return(n,o)=>O(t)||n.forceMount?(N(),W(le,{key:0,to:n.to,disabled:n.disabled,defer:n.defer},[x(n.$slots,"default")],8,["to","disabled","defer"])):ce("",!0)}});export{We as _,Ke as a,Ne as b,xe as c,Y as h,Re as u};
