import{d as f,c as r,o as t,b as o,a as n,t as p,F as v,p as R,u as y,v as G}from"./app-9tqjBHEs.js";import k from"./GuardRolesDropzone-D05cunvA.js";import U from"./GuardRolesModal-BIKTtIUW.js";import{T as A}from"./trash-D8aIbXVj.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Draggable-Bx9-R9sD.js";import"./x-b0b-MlWJ.js";import"./createLucideIcon-CqvkLLG1.js";import"./index-BkBMlaJ9.js";import"./Primitive-CKsmqVoc.js";import"./utils-bRKmu4jq.js";import"./index-dkW4UkYo.js";import"./index-Cssfem1N.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-DA8G7DBa.js";import"./Presence-oRGkn2d1.js";import"./useForwardExpose-D2sADC18.js";import"./DialogTitle-BgNvo6Ce.js";import"./Teleport-l4XXdBK-.js";import"./utils-CbVzdUDi.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-B64sSsYp.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-BLbnlLq5.js";import"./Input.vue_vue_type_script_setup_true_lang-WD7GkVW_.js";import"./plus-3Eej_Vxj.js";import"./circle-alert-CHZgnv01.js";const D={class:"container"},E={class:"content"},T={class:"dropzone"},z={class:"header"},B={class:"title"},C={key:0,class:"roles-section h-[50vh] overflow-y-auto"},N={class:"grid gap-6 md:grid-cols-4"},F={class:"role-info"},V={class:"role-name"},$=["onClick"],w={key:1,class:"empty-state"},I=f({__name:"GuardAreaDroppable",props:{users:{},roles:{},guard:{},unassignedUsers:{}},emits:["dropped","asignRolesToGuard","deleteGuardRole","unassignUser"],setup(m,{emit:c}){const i=c,l=m,u=s=>{console.log("calling a asignar roles",s),i("asignRolesToGuard",l.guard.id,s)},g=s=>{confirm("Estás seguro de eliminar este rol?")&&(G.delete(`/guard-roles/${s.id}`).then(()=>{console.log("Rol eliminado con éxito")}).catch(e=>{console.error("Error al eliminar el rol:",e)}),i("deleteGuardRole",l.guard.id,s.id))},_=s=>{i("dropped",s)},h=s=>{i("unassignUser",s)};return(s,e)=>{var d;return t(),r("div",D,[o("div",E,[o("div",T,[o("div",z,[o("h3",B,p(s.guard.name),1),n(U,{roles:s.roles,guard:s.guard,onAsignRoles:u},null,8,["roles","guard"])]),((d=s.guard.assigned_roles)==null?void 0:d.length)>0?(t(),r("div",C,[e[0]||(e[0]=o("h4",{class:"section-title"},"Roles Asignados",-1)),o("div",N,[(t(!0),r(v,null,R(s.guard.assigned_roles,a=>(t(),r("div",{key:a.id,class:"role-card"},[o("div",F,[o("span",V,p(a.role.name),1),o("button",{class:"delete-btn",onClick:L=>g(a),title:"Eliminar rol"},[n(y(A),{size:16})],8,$)]),n(k,{role:a,onRoleAssigned:_,onUnassignUser:h,users:s.unassignedUsers},null,8,["role","users"])]))),128))])])):(t(),r("div",w,e[1]||(e[1]=[o("p",{class:"empty-text"},"No hay roles asignados",-1)])))])])])}}}),ds=b(I,[["__scopeId","data-v-e812699e"]]);export{ds as default};
