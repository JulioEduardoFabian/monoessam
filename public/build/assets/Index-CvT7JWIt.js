import{_ as T}from"./index-DO3XsP-x.js";import{_ as g}from"./index-ChQdRNV1.js";import{_ as M}from"./Input.vue_vue_type_script_setup_true_lang-pEqKorle.js";import{T as O,a as B,b as D,c as N,_ as R}from"./AppLayout.vue_vue_type_script_setup_true_lang-Du7Y-H6P.js";import{d as V,g as w,o as l,w as n,k as H,I as U,J as q,u as i,j as J,s as K,c,a as o,m as G,b as t,e as v,F as f,p as x,t as a,n as L,i as j,v as Q}from"./app-CjBqsQ7g.js";import{_ as E}from"./ChangeStatusModal.vue_vue_type_script_setup_true_lang-DhaQTinY.js";import{_ as W}from"./FilesModal.vue_vue_type_script_setup_true_lang-BOC5K704.js";import{_ as y}from"./StaffRegistrationDialog.vue_vue_type_script_setup_true_lang-Dm-XUeVj.js";import{c as X}from"./createLucideIcon-CJezYcas.js";import"./Primitive-DLnwgJmI.js";import"./utils-bRKmu4jq.js";import"./index-dkW4UkYo.js";import"./Presence-XIfdGiMk.js";import"./useForwardExpose-Cf23YmJv.js";import"./PopperContent-9YhKAeU6.js";import"./Teleport-CCBUb4k9.js";import"./VisuallyHidden-CMfGg9QQ.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-C9mmP8sv.js";import"./utils-B_V9tMEG.js";import"./useTypeahead-6MYA_wBJ.js";import"./RovingFocusGroup-DK1SPvGX.js";import"./usePrimitiveElement-DO30S3Ru.js";import"./Collection-C_xcArtS.js";import"./DialogTitle-dTxlzQPh.js";import"./x-KKAmj0r9.js";import"./DialogDescription-IFTA1ykm.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./hand-helping-Ky0GgvM1.js";import"./building-2-D57ypjQ_.js";import"./user-64Ch-rkK.js";import"./chevron-right-Cb3I7Ma2.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-CN4erSGT.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-5t7c7bID.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-a9jOjKed.js";import"./info-BQfq_NkK.js";import"./index-ieLAuIlg.js";import"./CalendarPrevButton.vue_vue_type_script_setup_true_lang-CFKjKBqk.js";import"./chevron-left-CgYxRBxP.js";import"./file-CWyDqBW9.js";import"./calendar-BYjOwCd7.js";import"./DialogDescription.vue_vue_type_script_setup_true_lang-C9D7RzHG.js";import"./TabsTrigger.vue_vue_type_script_setup_true_lang-DwFZHCjx.js";import"./RovingFocusItem-BUM5EFLn.js";import"./AlertErrors.vue_vue_type_script_setup_true_lang-B-t56of-.js";import"./AttachmentsTab.vue_vue_type_script_setup_true_lang-C6TA7-AG.js";import"./FileUploadItem.vue_vue_type_script_setup_true_lang-CmREeYAi.js";import"./FinancialDataTab.vue_vue_type_script_setup_true_lang-i20C4kjW.js";import"./Label.vue_vue_type_script_setup_true_lang-DHx5rKsp.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-D3apBpA-.js";import"./chevron-down-DL0wXBPT.js";import"./check-xrixWnBY.js";import"./FamilyLoadSection.vue_vue_type_script_setup_true_lang-DoVy1Ast.js";import"./PersonalDataTab.vue_vue_type_script_setup_true_lang-BOVrKVWK.js";import"./EmergencyContactSection.vue_vue_type_script_setup_true_lang-ZVWwNafA.js";import"./circle-alert-C-pqUVC9.js";import"./phone-J5nrO1v5.js";import"./PhotoUploadSection.vue_vue_type_script_setup_true_lang-a_cxvwzt.js";import"./InputSearchRole.vue_vue_type_script_setup_true_lang-D_vtIXSc.js";import"./plus-60LdY3i9.js";import"./InputSearchSelectable.vue_vue_type_script_setup_true_lang-DXo4Fx_3.js";import"./InputSelectableUnit.vue_vue_type_script_setup_true_lang-Cec7wmFX.js";import"./building-C1h3wqAY.js";import"./mail-Dd2cvHX6.js";import"./SizesTab.vue_vue_type_script_setup_true_lang-ByHYpj8P.js";import"./pencil-BlfHaL3t.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=X("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),P=V({__name:"TooltipProvider",props:{delayDuration:{default:0},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(h){const r=h;return(d,b)=>(l(),w(i(O),U(q(r)),{default:n(()=>[H(d.$slots,"default")]),_:3},16))}}),Y={class:"flex h-full flex-1 flex-col gap-6 rounded-xl p-4"},Z={class:"flex items-center justify-between"},tt={class:"flex items-center"},et={class:"bg-card rounded-xl border shadow-sm"},st={class:"hidden overflow-x-auto md:block"},ot={class:"w-full table-auto border-collapse"},rt={class:"p-4"},it={class:"p-4"},nt={class:"p-4"},at={class:"p-4"},lt={class:"p-4"},dt=["href"],mt={class:"p-4"},ct={class:"p-4 text-center"},pt={class:"flex items-center justify-center gap-3"},ut={class:"space-y-4 md:hidden"},_t={class:"mb-3 flex items-start justify-between border-b pb-3"},ft={class:"flex-1"},xt={class:"mb-1 text-base font-semibold"},ht={class:"mb-4 space-y-2"},bt={class:"flex items-center gap-2"},gt={class:"text-sm"},vt={class:"flex items-center gap-2"},yt={class:"text-sm"},wt={class:"flex items-start gap-2"},kt={class:"flex-1 text-sm"},Ct={class:"flex items-start gap-2"},$t={class:"flex flex-wrap gap-2"},St=["href"],Tt={key:0,class:"text-muted-foreground text-sm"},Bt={class:"flex items-center justify-end gap-2 border-t pt-3"},Dt={key:0,class:"py-12 text-center"},Oe=V({__name:"Index",props:{cafes:{},staff:{},roles:{},units:{},businneses:{}},setup(h){const r=h,d=J(r.staff),b=async m=>{if(confirm("EstÃ¡s seguro de eliminar a este personal?"))try{await Q.delete("/staff/"+m),d.value=d.value.filter(s=>s.id!==m)}catch(s){console.error("Error al eliminar personal:",s)}},z=["Lista negra","En proceso","Contratado","Cesado","Retirado","Abandono","CumpliÃ³ Contrato"],A=["bg-zinc-500 text-white","bg-yellow-500 text-white","bg-green-500 text-white","bg-gray-500 text-white","bg-red-500 text-white","bg-red-500 text-white","bg-blue-500 text-white"],k=m=>z[m]??"Desconocido",C=m=>A[m]??"",$=()=>{},F=m=>{const e=m.target.value.toLowerCase().trim();if(!e){d.value=r.staff;return}d.value=r.staff.filter(p=>p.name.toLowerCase().includes(e)||p.dni.toLowerCase().includes(e))};return K(r,()=>{d.value=r.staff}),(m,s)=>(l(),c(f,null,[o(i(G),{title:"Personal"}),o(R,null,{default:n(()=>[t("div",Y,[t("div",Z,[s[2]||(s[2]=t("h1",{class:"text-2xl font-semibold tracking-tight"},"Personal",-1)),o(y,{cafes:r.cafes,roles:r.roles,units:r.units,businneses:r.businneses},null,8,["cafes","roles","units","businneses"])]),t("div",tt,[o(M,{type:"text",placeholder:"Buscar personal por dni o nombre",onChange:F}),o(i(g),{variant:"default",class:"ms-2 cursor-pointer bg-blue-600 text-white hover:bg-blue-700"},{default:n(()=>s[3]||(s[3]=[v("Buscar")])),_:1})]),t("div",et,[t("div",st,[t("table",ot,[s[4]||(s[4]=t("thead",{class:"bg-muted/50"},[t("tr",null,[t("th",{class:"p-4 text-left text-sm font-semibold"},"Nombre"),t("th",{class:"p-4 text-left text-sm font-semibold"},"DNI"),t("th",{class:"p-4 text-left text-sm font-semibold"},"Celular"),t("th",{class:"p-4 text-left text-sm font-semibold"},"Comedor/Area"),t("th",{class:"p-4 text-left text-sm font-semibold"},"DocumentaciÃ³n"),t("th",{class:"p-4 text-left text-sm font-semibold"},"Estado"),t("th",{class:"p-4 text-center text-sm font-semibold"},"Opciones")])],-1)),t("tbody",null,[(l(!0),c(f,null,x(d.value,e=>{var p;return l(),c("tr",{key:e.id,class:"hover:bg-muted/30 border-t transition"},[t("td",rt,a(e.name),1),t("td",it,a(e.dni),1),t("td",nt,a(e.cell),1),t("td",at,[t("p",null,a(((p=e.staffable)==null?void 0:p.name)??"Sin asignar"),1)]),t("td",lt,[(l(!0),c(f,null,x(e.staff_files,u=>(l(),w(i(P),{key:u.id},{default:n(()=>[o(i(B),null,{default:n(()=>[o(i(D),{"as-child":""},{default:n(()=>[t("a",{class:"text-md rounded-sm text-white",href:"/storage/"+u.file_path,target:"_blank"}," ðŸ“„ ",8,dt)]),_:2},1024),o(i(N),null,{default:n(()=>[t("p",null,a(u.file_type),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),t("td",mt,[o(i(T),{class:L([C(e.status),"cursor-pointer rounded-sm"]),onClick:s[0]||(s[0]=u=>$())},{default:n(()=>[v(a(k(e.status)),1)]),_:2},1032,["class"])]),t("td",ct,[t("div",pt,[o(E,{staff:e},null,8,["staff"]),o(i(g),{variant:"ghost",size:"icon",class:"cursor-pointer text-red-600 hover:text-red-800",onClick:u=>b(e.id)},{default:n(()=>[o(i(I),{class:"h-4 w-4"})]),_:2},1032,["onClick"]),o(y,{cafes:r.cafes,roles:r.roles,units:r.units,businneses:r.businneses,staff:e},null,8,["cafes","roles","units","businneses","staff"]),o(W,{staff:e},null,8,["staff"])])])])}),128))])])]),t("div",ut,[(l(!0),c(f,null,x(d.value,e=>{var p,u,S;return l(),c("div",{key:e.id,class:"rounded-lg border bg-white p-4 shadow-sm transition hover:shadow-md"},[t("div",_t,[t("div",ft,[t("h3",xt,a(e.name),1),o(i(T),{class:L([C(e.status),"cursor-pointer rounded-sm text-xs"]),onClick:s[1]||(s[1]=_=>$())},{default:n(()=>[v(a(k(e.status)),1)]),_:2},1032,["class"])])]),t("div",ht,[t("div",bt,[s[5]||(s[5]=t("span",{class:"text-muted-foreground min-w-[80px] text-xs font-medium"},"DNI:",-1)),t("span",gt,a(e.dni),1)]),t("div",vt,[s[6]||(s[6]=t("span",{class:"text-muted-foreground min-w-[80px] text-xs font-medium"},"Celular:",-1)),t("span",yt,a(e.cell),1)]),t("div",wt,[s[7]||(s[7]=t("span",{class:"text-muted-foreground min-w-[80px] text-xs font-medium"},"Comedor:",-1)),t("span",kt,a(((p=e.cafe)==null?void 0:p.name)??"Sin asignar")+" - "+a((S=(u=e.cafe)==null?void 0:u.unit)==null?void 0:S.name),1)]),t("div",Ct,[s[8]||(s[8]=t("span",{class:"text-muted-foreground min-w-[80px] text-xs font-medium"},"Documentos:",-1)),t("div",$t,[(l(!0),c(f,null,x(e.staff_files,_=>(l(),w(i(P),{key:_.id},{default:n(()=>[o(i(B),null,{default:n(()=>[o(i(D),{"as-child":""},{default:n(()=>[t("a",{class:"inline-block rounded-sm text-lg transition hover:scale-110",href:"/storage/"+_.file_path,target:"_blank"}," ðŸ“„ ",8,St)]),_:2},1024),o(i(N),null,{default:n(()=>[t("p",null,a(_.file_type),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),!e.staff_files||e.staff_files.length===0?(l(),c("span",Tt," Sin documentos ")):j("",!0)])])]),t("div",Bt,[o(E,{staff:e},null,8,["staff"]),o(i(g),{variant:"ghost",size:"icon",class:"cursor-pointer text-red-600 hover:text-red-800",onClick:_=>b(e.id)},{default:n(()=>[o(i(I),{class:"h-4 w-4"})]),_:2},1032,["onClick"]),o(y,{cafes:r.cafes,roles:r.roles,units:r.units,businneses:r.businneses},null,8,["cafes","roles","units","businneses"])])])}),128)),!d.value||d.value.length===0?(l(),c("div",Dt,s[9]||(s[9]=[t("p",{class:"text-muted-foreground"},"No hay personal registrado",-1)]))):j("",!0)])])])]),_:1})],64))}});export{Oe as default};
