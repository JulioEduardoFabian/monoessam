import{c as K}from"./utils-bRKmu4jq.js";import{c as le,a as oe,u as re}from"./useForwardPropsEmits-DV2zn-wQ.js";import{a as Q,d as W}from"./index-e1y-wXr5.js";import{i as X,a as Y}from"./Checkbox.vue_vue_type_script_setup_true_lang-jBoCuouY.js";import{i as N,u as ee}from"./check-YAVQmvuw.js";import{z as B,d as C,D as ne,g as x,o as m,w as h,a as v,u as e,j as k,i as S,M as ae,x as R,I as E,J as U,bc as ie,$ as de,k as w,q as H,c as _,b as f,F as P,l as G,e as z,t as V}from"./app-DCLn6De8.js";import{u as ue}from"./usePrimitiveElement-Clo8lFs2.js";import{u as A}from"./useForwardExpose-BqsDow3k.js";import{_ as ce}from"./RovingFocusGroup-CPHp5YbN.js";import{P as F}from"./Primitive-CZkuYOof.js";import{c as pe}from"./index-dkW4UkYo.js";import{_ as me}from"./RovingFocusItem-DFkQUboE.js";import{_ as fe}from"./DatePicker.vue_vue_type_script_setup_true_lang-DrHh2XUc.js";import{_ as ve}from"./DinnersTable.vue_vue_type_script_setup_true_lang-BzENcuc9.js";import{_ as ge}from"./ExcelDialog.vue_vue_type_script_setup_true_lang-CdNHHPRV.js";import{_ as be}from"./NewDinnerDialog.vue_vue_type_script_setup_true_lang-CokiHZHM.js";import{_ as he}from"./OtherUnitDialog.vue_vue_type_script_setup_true_lang-DVA_KYap.js";import{_ as ye}from"./ReportDialog.vue_vue_type_script_setup_true_lang-C0MCey4R.js";import{c as te}from"./createLucideIcon-BttnQq3J.js";import{C as L}from"./coffee-CQOfT4Ul.js";function xe({type:l,defaultValue:o,modelValue:a}){const i=a||o;return a!==void 0||o!==void 0?Array.isArray(i)?"multiple":"single":l??"single"}function _e({type:l,defaultValue:o,modelValue:a}){return l||xe({type:l,defaultValue:o,modelValue:a})}function we({type:l,defaultValue:o}){return o!==void 0?o:l==="single"?void 0:[]}function Ve(l,o){const a=B(()=>_e(l)),i=Q(l,"modelValue",o,{defaultValue:we(l),passive:l.modelValue===void 0,deep:!0});function g(s){if(a.value==="single")i.value=N(s,i.value)?void 0:s;else{const t=Array.isArray(i.value)?[...i.value||[]]:[i.value].filter(Boolean);if(X(t,s)){const d=t.findIndex(y=>N(y,s));t.splice(d,1)}else t.push(s);i.value=t}}const u=B(()=>a.value==="single");return{modelValue:i,changeModelValue:g,isSingle:u}}const[se,Se]=le("ToggleGroupRoot"),Ce=C({__name:"ToggleGroupRoot",props:{rovingFocus:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},orientation:{},dir:{},loop:{type:Boolean,default:!0},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},type:{},modelValue:{},defaultValue:{}},emits:["update:modelValue"],setup(l,{emit:o}){const a=l,i=o,{loop:g,rovingFocus:u,disabled:s,dir:t}=ne(a),d=ue(t),{forwardRef:y,currentElement:b}=A(),{modelValue:p,changeModelValue:$,isSingle:T}=Ve(a,i),q=ee(b);return Se({isSingle:T,modelValue:p,changeModelValue:$,dir:d,orientation:a.orientation,loop:g,rovingFocus:u,disabled:s}),(r,c)=>(m(),x(ae(e(u)?e(ce):e(F)),{"as-child":"",orientation:e(u)?r.orientation:void 0,dir:e(d),loop:e(u)?e(g):void 0},{default:h(()=>[v(e(F),{ref:e(y),role:"group","as-child":r.asChild,as:r.as},{default:h(()=>[k(r.$slots,"default",{modelValue:e(p)}),e(q)&&r.name?(m(),x(Y,{key:0,name:r.name,required:r.required,value:e(p)},null,8,["name","required","value"])):S("",!0)]),_:3},8,["as-child","as"])]),_:3},8,["orientation","dir","loop"]))}}),ze=C({__name:"Toggle",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null],default:void 0},disabled:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:o}){const a=l,i=o,{forwardRef:g,currentElement:u}=A(),s=se(null),t=Q(a,"modelValue",i,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function d(){t.value=!t.value}const y=B(()=>t.value?"on":"off"),b=ee(u);return(p,$)=>(m(),x(e(F),{ref:e(g),type:p.as==="button"?"button":void 0,"as-child":a.asChild,as:p.as,"aria-pressed":e(t),"data-state":y.value,"data-disabled":p.disabled?"":void 0,disabled:p.disabled,onClick:d},{default:h(()=>[k(p.$slots,"default",{modelValue:e(t),disabled:p.disabled,pressed:e(t),state:y.value}),e(b)&&p.name&&!e(s)?(m(),x(Y,{key:0,type:"checkbox",name:p.name,value:e(t),required:p.required},null,8,["name","value","required"])):S("",!0)]),_:3},8,["type","as-child","as","aria-pressed","data-state","data-disabled","disabled"]))}}),Be=C({__name:"ToggleGroupItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"button"}},setup(l){const o=l,a=se(),i=B(()=>{var s;return((s=a.disabled)==null?void 0:s.value)||o.disabled}),g=B(()=>X(a.modelValue.value,o.value)),{forwardRef:u}=A();return(s,t)=>(m(),x(ae(e(a).rovingFocus.value?e(me):e(F)),{"as-child":"",focusable:!i.value,active:g.value},{default:h(()=>[v(e(ze),R(o,{ref:e(u),disabled:i.value,"model-value":g.value,"onUpdate:modelValue":t[0]||(t[0]=d=>e(a).changeModelValue(s.value))}),{default:h(d=>[k(s.$slots,"default",E(U(d)))]),_:3},16,["disabled","model-value"])]),_:3},8,["focusable","active"]))}});/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=te("FileIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=te("TagIcon",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),I=C({__name:"ToggleGroup",props:{rovingFocus:{type:Boolean},disabled:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},type:{},modelValue:{},defaultValue:{},class:{},variant:{},size:{}},emits:["update:modelValue"],setup(l,{emit:o}){const a=l,i=o;ie("toggleGroup",{variant:a.variant,size:a.size});const g=W(a,"class","size","variant"),u=oe(g,i);return(s,t)=>(m(),x(e(Ce),R({"data-slot":"toggle-group","data-size":s.size,"data-variant":s.variant},e(u),{class:e(K)("group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",a.class)}),{default:h(d=>[k(s.$slots,"default",E(U(d)))]),_:3},16,["data-size","data-variant","class"]))}}),ke=pe("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),M=C({__name:"ToggleGroupItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{},variant:{},size:{}},setup(l){const o=l,a=de("toggleGroup"),i=W(o,"class","size","variant"),g=re(i);return(u,s)=>{var t,d,y,b;return m(),x(e(Be),R({"data-slot":"toggle-group-item","data-variant":((t=e(a))==null?void 0:t.variant)||u.variant,"data-size":((d=e(a))==null?void 0:d.size)||u.size},e(g),{class:e(K)(e(ke)({variant:((y=e(a))==null?void 0:y.variant)||u.variant,size:((b=e(a))==null?void 0:b.size)||u.size}),"min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",o.class)}),{default:h(p=>[k(u.$slots,"default",E(U(p)))]),_:3},16,["data-variant","data-size","class"])}}}),$e={class:"flex flex-col gap-3 rounded-xl bg-white p-4 shadow-md"},De={class:"flex flex-col gap-3 md:flex-row"},Fe={class:"min-w-0 flex-1 space-y-3"},Te={class:"space-y-1"},qe={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},Pe={class:"space-y-1"},Ge={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},Ie={class:"space-y-1"},Me={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},Re={class:"truncate"},Ee={class:"flex min-w-0 flex-1 flex-col gap-3"},Ue={class:"flex min-w-0 flex-1 flex-col gap-3"},Ae={class:"flex w-full flex-col items-center space-y-1"},Oe={class:"flex flex-wrap items-center gap-2 rounded-lg bg-gray-50 px-3 py-2 text-sm"},je={key:0,class:"flex items-center gap-1 rounded-full bg-blue-100 px-2 py-1 text-blue-800"},Ne={key:1,class:"flex items-center gap-1 rounded-full bg-purple-100 px-2 py-1 text-purple-800"},He={key:2,class:"flex items-center gap-1 rounded-full bg-amber-100 px-2 py-1 text-amber-800"},Le={key:3,class:"ml-auto text-gray-500"},ma=C({__name:"SalesHeader",props:{cafes:{},services:{},receipt_types:{},sale_types:{},subdealerships:{}},emits:["showServicesFromCafeSelected","updateDate","updateFormData","addServiceSelected"],setup(l,{emit:o}){const a=o,i=()=>{const r={receipt_type_id:b.value,sale_type_id:t.value,cafe_id:s.value};a("updateFormData",r)},g=l,u=w(!1),s=w(0),t=w(0),d=w([]),y=w([]),b=w(0),p=w(!1),$=()=>{u.value=!0,p.value=!1};H(s,r=>{const c=g.cafes.find(D=>D.id===r);c?(d.value=c.services,y.value=c.sales,a("showServicesFromCafeSelected",d.value,y.value)):(d.value=[],a("showServicesFromCafeSelected",d.value))}),H([b,t,s],()=>{i()});const T=r=>{a("updateDate",r)},q=r=>{a("addServiceSelected",r)};return(r,c)=>{var D,O,j;return m(),_("header",$e,[f("div",De,[f("div",Fe,[f("div",Te,[f("label",qe,[v(e(J),{class:"h-4 w-4 text-blue-500"}),c[3]||(c[3]=f("span",null,"Tipo de Documento",-1))]),v(e(I),{modelValue:b.value,"onUpdate:modelValue":c[0]||(c[0]=n=>b.value=n),type:"single",class:"flex flex-wrap gap-1 rounded-lg bg-gray-50 p-1"},{default:h(()=>[(m(!0),_(P,null,G(r.receipt_types,n=>(m(),x(e(M),{value:n.id,key:n.id,class:"min-w-[100px] flex-1 rounded-md px-3 py-2 text-center text-sm transition-all hover:bg-blue-50 hover:text-blue-600 data-[state=on]:bg-blue-500 data-[state=on]:text-white"},{default:h(()=>[z(V(n.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),f("div",Pe,[f("label",Ge,[v(e(Z),{class:"h-4 w-4 text-purple-500"}),c[4]||(c[4]=f("span",null,"Tipo de Venta",-1))]),v(e(I),{modelValue:t.value,"onUpdate:modelValue":c[1]||(c[1]=n=>t.value=n),type:"single",class:"flex flex-wrap gap-1 rounded-lg bg-gray-50 p-1"},{default:h(()=>[(m(!0),_(P,null,G(r.sale_types,n=>(m(),x(e(M),{value:n.id,key:n.id,class:"min-w-[100px] flex-1 rounded-md px-3 py-2 text-center text-sm transition-all hover:bg-purple-50 hover:text-purple-600 data-[state=on]:bg-purple-500 data-[state=on]:text-white"},{default:h(()=>[z(V(n.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),f("div",Ie,[f("label",Me,[v(e(L),{class:"h-4 w-4 text-amber-500"}),c[5]||(c[5]=f("span",null,"Cafetería",-1))]),v(e(I),{modelValue:s.value,"onUpdate:modelValue":c[2]||(c[2]=n=>s.value=n),type:"single",class:"flex flex-wrap gap-1 rounded-lg bg-gray-50 p-1"},{default:h(()=>[(m(!0),_(P,null,G(r.cafes,n=>(m(),x(e(M),{value:n.id,key:n.id,class:"min-w-[120px] flex-1 rounded-md px-2 py-2 text-center text-sm transition-all hover:bg-amber-50 hover:text-amber-600 data-[state=on]:bg-amber-500 data-[state=on]:text-white"},{default:h(()=>[f("span",Re,V(n.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),v(fe,{onUpdateDate:T,class:"w-full"})]),f("div",Ee,[v(ve,{services:d.value,onAddServiceSelected:q},null,8,["services"])]),f("div",Ue,[f("div",Ae,[v(ge,{class:"w-full"}),v(ye,{class:"w-full"}),v(be,{cafes:r.cafes,subdealerships:r.subdealerships},null,8,["cafes","subdealerships"]),v(he,{showOtherUnitDialog:p.value,onDoublePriceSave:$,class:"w-full"},null,8,["showOtherUnitDialog"])]),c[6]||(c[6]=f("div",{class:"flex w-full flex-col gap-2"},null,-1))])]),f("div",Oe,[b.value?(m(),_("span",je,[v(e(J),{class:"h-3 w-3"}),z(" "+V((D=r.receipt_types.find(n=>n.id===b.value))==null?void 0:D.name),1)])):S("",!0),t.value?(m(),_("span",Ne,[v(e(Z),{class:"h-3 w-3"}),z(" "+V((O=r.sale_types.find(n=>n.id===t.value))==null?void 0:O.name),1)])):S("",!0),s.value?(m(),_("span",He,[v(e(L),{class:"h-3 w-3"}),z(" "+V((j=r.cafes.find(n=>n.id===s.value))==null?void 0:j.name),1)])):S("",!0),d.value.length?(m(),_("span",Le,V(d.value.length)+" servicios disponibles ",1)):S("",!0)])])}}});export{ma as _};
