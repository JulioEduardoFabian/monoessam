import{c as Z}from"./utils-bRKmu4jq.js";import{c as se,a as le,u as oe}from"./useForwardPropsEmits-WjV4QmOm.js";import{a as K,d as Q}from"./index-rzOCJuLp.js";import{i as W,a as X}from"./Checkbox.vue_vue_type_script_setup_true_lang-rzniU0Tj.js";import{i as j,u as Y}from"./check-CqzztHFN.js";import{z as k,d as S,D as re,g as y,o as p,w as h,a as v,u as e,j as $,i as C,M as ee,x as M,I as R,J as E,bc as ne,$ as ie,k as V,q as N,c as _,b as f,F as q,l as P,e as B,t as w}from"./app-BgIJSUNM.js";import{u as de}from"./usePrimitiveElement-Dmv3pMdq.js";import{u as U}from"./useForwardExpose-_o8b-5uY.js";import{_ as ue}from"./RovingFocusGroup-sPSgt6A-.js";import{P as F}from"./Primitive-DgJAe62j.js";import{c as ce}from"./index-dkW4UkYo.js";import{_ as pe}from"./RovingFocusItem-CzUyF6cd.js";import{_ as me}from"./DatePicker.vue_vue_type_script_setup_true_lang-C7hy8VTV.js";import{_ as fe}from"./DinnersTable.vue_vue_type_script_setup_true_lang-D0dJ-F6U.js";import{_ as ve}from"./ExcelDialog.vue_vue_type_script_setup_true_lang-DdJ_us1e.js";import{_ as ge}from"./NewDinnerDialog.vue_vue_type_script_setup_true_lang-BlQQ6bDI.js";import{_ as be}from"./OtherUnitDialog.vue_vue_type_script_setup_true_lang-C9DU2Zma.js";import{_ as he}from"./ReportDialog.vue_vue_type_script_setup_true_lang-CORbZ9l8.js";import{c as ae}from"./createLucideIcon-CRVh3BQS.js";import{C as H}from"./coffee-DG3tMjxn.js";function ye({type:o,defaultValue:r,modelValue:a}){const i=a||r;return a!==void 0||r!==void 0?Array.isArray(i)?"multiple":"single":o??"single"}function xe({type:o,defaultValue:r,modelValue:a}){return o||ye({type:o,defaultValue:r,modelValue:a})}function _e({type:o,defaultValue:r}){return r!==void 0?r:o==="single"?void 0:[]}function we(o,r){const a=k(()=>xe(o)),i=K(o,"modelValue",r,{defaultValue:_e(o),passive:o.modelValue===void 0,deep:!0});function g(s){if(a.value==="single")i.value=j(s,i.value)?void 0:s;else{const t=Array.isArray(i.value)?[...i.value||[]]:[i.value].filter(Boolean);if(W(t,s)){const d=t.findIndex(b=>j(b,s));t.splice(d,1)}else t.push(s);i.value=t}}const u=k(()=>a.value==="single");return{modelValue:i,changeModelValue:g,isSingle:u}}const[te,Ve]=se("ToggleGroupRoot"),Ce=S({__name:"ToggleGroupRoot",props:{rovingFocus:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},orientation:{},dir:{},loop:{type:Boolean,default:!0},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},type:{},modelValue:{},defaultValue:{}},emits:["update:modelValue"],setup(o,{emit:r}){const a=o,i=r,{loop:g,rovingFocus:u,disabled:s,dir:t}=re(a),d=de(t),{forwardRef:b,currentElement:x}=U(),{modelValue:m,changeModelValue:D,isSingle:T}=we(a,i),c=Y(x);return Ve({isSingle:T,modelValue:m,changeModelValue:D,dir:d,orientation:a.orientation,loop:g,rovingFocus:u,disabled:s}),(l,z)=>(p(),y(ee(e(u)?e(ue):e(F)),{"as-child":"",orientation:e(u)?l.orientation:void 0,dir:e(d),loop:e(u)?e(g):void 0},{default:h(()=>[v(e(F),{ref:e(b),role:"group","as-child":l.asChild,as:l.as},{default:h(()=>[$(l.$slots,"default",{modelValue:e(m)}),e(c)&&l.name?(p(),y(X,{key:0,name:l.name,required:l.required,value:e(m)},null,8,["name","required","value"])):C("",!0)]),_:3},8,["as-child","as"])]),_:3},8,["orientation","dir","loop"]))}}),Se=S({__name:"Toggle",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null],default:void 0},disabled:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(o,{emit:r}){const a=o,i=r,{forwardRef:g,currentElement:u}=U(),s=te(null),t=K(a,"modelValue",i,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function d(){t.value=!t.value}const b=k(()=>t.value?"on":"off"),x=Y(u);return(m,D)=>(p(),y(e(F),{ref:e(g),type:m.as==="button"?"button":void 0,"as-child":a.asChild,as:m.as,"aria-pressed":e(t),"data-state":b.value,"data-disabled":m.disabled?"":void 0,disabled:m.disabled,onClick:d},{default:h(()=>[$(m.$slots,"default",{modelValue:e(t),disabled:m.disabled,pressed:e(t),state:b.value}),e(x)&&m.name&&!e(s)?(p(),y(X,{key:0,type:"checkbox",name:m.name,value:e(t),required:m.required},null,8,["name","value","required"])):C("",!0)]),_:3},8,["type","as-child","as","aria-pressed","data-state","data-disabled","disabled"]))}}),ze=S({__name:"ToggleGroupItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"button"}},setup(o){const r=o,a=te(),i=k(()=>{var s;return((s=a.disabled)==null?void 0:s.value)||r.disabled}),g=k(()=>W(a.modelValue.value,r.value)),{forwardRef:u}=U();return(s,t)=>(p(),y(ee(e(a).rovingFocus.value?e(pe):e(F)),{"as-child":"",focusable:!i.value,active:g.value},{default:h(()=>[v(e(Se),M(r,{ref:e(u),disabled:i.value,"model-value":g.value,"onUpdate:modelValue":t[0]||(t[0]=d=>e(a).changeModelValue(s.value))}),{default:h(d=>[$(s.$slots,"default",R(E(d)))]),_:3},16,["disabled","model-value"])]),_:3},8,["focusable","active"]))}});/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=ae("FileIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=ae("TagIcon",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),G=S({__name:"ToggleGroup",props:{rovingFocus:{type:Boolean},disabled:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},type:{},modelValue:{},defaultValue:{},class:{},variant:{},size:{}},emits:["update:modelValue"],setup(o,{emit:r}){const a=o,i=r;ne("toggleGroup",{variant:a.variant,size:a.size});const g=Q(a,"class","size","variant"),u=le(g,i);return(s,t)=>(p(),y(e(Ce),M({"data-slot":"toggle-group","data-size":s.size,"data-variant":s.variant},e(u),{class:e(Z)("group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",a.class)}),{default:h(d=>[$(s.$slots,"default",R(E(d)))]),_:3},16,["data-size","data-variant","class"]))}}),Be=ce("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),I=S({__name:"ToggleGroupItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{},variant:{},size:{}},setup(o){const r=o,a=ie("toggleGroup"),i=Q(r,"class","size","variant"),g=oe(i);return(u,s)=>{var t,d,b,x;return p(),y(e(ze),M({"data-slot":"toggle-group-item","data-variant":((t=e(a))==null?void 0:t.variant)||u.variant,"data-size":((d=e(a))==null?void 0:d.size)||u.size},e(g),{class:e(Z)(e(Be)({variant:((b=e(a))==null?void 0:b.variant)||u.variant,size:((x=e(a))==null?void 0:x.size)||u.size}),"min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",r.class)}),{default:h(m=>[$(u.$slots,"default",R(E(m)))]),_:3},16,["data-variant","data-size","class"])}}}),ke={class:"flex flex-col gap-3 rounded-xl bg-white p-4 shadow-md"},$e={class:"flex flex-col gap-3 md:flex-row"},De={class:"min-w-0 flex-1 space-y-3"},Fe={class:"space-y-1"},Te={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},qe={class:"space-y-1"},Pe={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},Ge={class:"space-y-1"},Ie={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},Me={class:"truncate"},Re={class:"flex min-w-0 flex-1 flex-col gap-3"},Ee={class:"flex min-w-0 flex-1 flex-col gap-3"},Ue={class:"flex w-full flex-col items-center space-y-1"},Ae={class:"flex flex-wrap items-center gap-2 rounded-lg bg-gray-50 px-3 py-2 text-sm"},Oe={key:0,class:"flex items-center gap-1 rounded-full bg-blue-100 px-2 py-1 text-blue-800"},je={key:1,class:"flex items-center gap-1 rounded-full bg-purple-100 px-2 py-1 text-purple-800"},Ne={key:2,class:"flex items-center gap-1 rounded-full bg-amber-100 px-2 py-1 text-amber-800"},He={key:3,class:"ml-auto text-gray-500"},pa=S({__name:"SalesHeader",props:{cafes:{},services:{},receipt_types:{},sale_types:{},subdealerships:{}},emits:["showServicesFromCafeSelected","updateDate","updateFormData","addServiceSelected"],setup(o,{emit:r}){const a=r,i=()=>{const c={receipt_type_id:b.value,sale_type_id:t.value,cafe_id:s.value};a("updateFormData",c)},g=o,u=V(!1),s=V(0),t=V(0),d=V([]),b=V(0),x=V(!1),m=()=>{u.value=!0,x.value=!1};N(s,c=>{const l=g.cafes.find(z=>z.id===c);l?(d.value=l.services,a("showServicesFromCafeSelected",d.value)):(d.value=[],a("showServicesFromCafeSelected",d.value))}),N([b,t,s],()=>{i()});const D=c=>{a("updateDate",c)},T=c=>{a("addServiceSelected",c)};return(c,l)=>{var z,A,O;return p(),_("header",ke,[f("div",$e,[f("div",De,[f("div",Fe,[f("label",Te,[v(e(L),{class:"h-4 w-4 text-blue-500"}),l[3]||(l[3]=f("span",null,"Tipo de Documento",-1))]),v(e(G),{modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=n=>b.value=n),type:"single",class:"flex flex-wrap gap-1 rounded-lg bg-gray-50 p-1"},{default:h(()=>[(p(!0),_(q,null,P(c.receipt_types,n=>(p(),y(e(I),{value:n.id,key:n.id,class:"min-w-[100px] flex-1 rounded-md px-3 py-2 text-center text-sm transition-all hover:bg-blue-50 hover:text-blue-600 data-[state=on]:bg-blue-500 data-[state=on]:text-white"},{default:h(()=>[B(w(n.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),f("div",qe,[f("label",Pe,[v(e(J),{class:"h-4 w-4 text-purple-500"}),l[4]||(l[4]=f("span",null,"Tipo de Venta",-1))]),v(e(G),{modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=n=>t.value=n),type:"single",class:"flex flex-wrap gap-1 rounded-lg bg-gray-50 p-1"},{default:h(()=>[(p(!0),_(q,null,P(c.sale_types,n=>(p(),y(e(I),{value:n.id,key:n.id,class:"min-w-[100px] flex-1 rounded-md px-3 py-2 text-center text-sm transition-all hover:bg-purple-50 hover:text-purple-600 data-[state=on]:bg-purple-500 data-[state=on]:text-white"},{default:h(()=>[B(w(n.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),f("div",Ge,[f("label",Ie,[v(e(H),{class:"h-4 w-4 text-amber-500"}),l[5]||(l[5]=f("span",null,"Cafetería",-1))]),v(e(G),{modelValue:s.value,"onUpdate:modelValue":l[2]||(l[2]=n=>s.value=n),type:"single",class:"flex flex-wrap gap-1 rounded-lg bg-gray-50 p-1"},{default:h(()=>[(p(!0),_(q,null,P(c.cafes,n=>(p(),y(e(I),{value:n.id,key:n.id,class:"min-w-[120px] flex-1 rounded-md px-2 py-2 text-center text-sm transition-all hover:bg-amber-50 hover:text-amber-600 data-[state=on]:bg-amber-500 data-[state=on]:text-white"},{default:h(()=>[f("span",Me,w(n.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),v(me,{onUpdateDate:D,class:"w-full"})]),f("div",Re,[v(fe,{services:d.value,onAddServiceSelected:T},null,8,["services"])]),f("div",Ee,[f("div",Ue,[v(ve,{class:"w-full"}),v(he,{class:"w-full"}),v(ge,{cafes:c.cafes,subdealerships:c.subdealerships},null,8,["cafes","subdealerships"]),v(be,{showOtherUnitDialog:x.value,onDoublePriceSave:m,class:"w-full"},null,8,["showOtherUnitDialog"])]),l[6]||(l[6]=f("div",{class:"flex w-full flex-col gap-2"},null,-1))])]),f("div",Ae,[b.value?(p(),_("span",Oe,[v(e(L),{class:"h-3 w-3"}),B(" "+w((z=c.receipt_types.find(n=>n.id===b.value))==null?void 0:z.name),1)])):C("",!0),t.value?(p(),_("span",je,[v(e(J),{class:"h-3 w-3"}),B(" "+w((A=c.sale_types.find(n=>n.id===t.value))==null?void 0:A.name),1)])):C("",!0),s.value?(p(),_("span",Ne,[v(e(H),{class:"h-3 w-3"}),B(" "+w((O=c.cafes.find(n=>n.id===s.value))==null?void 0:O.name),1)])):C("",!0),d.value.length?(p(),_("span",He,w(d.value.length)+" servicios disponibles ",1)):C("",!0)])])}}});export{pa as _};
