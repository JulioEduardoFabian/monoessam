import{d as v,j as l,b_ as D,c as u,o as p,u as t,n as h,b as r,i as y,t as m,h as B,a as k,v as x}from"./app-wpK-6FY7.js";import{X as w}from"./x-DEz-tHsO.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-hLawIQYr.js";const E=["aria-pressed","title"],U={class:"user-info"},$={class:"user-name"},z={class:"user-type"},N=v({__name:"Draggable",props:{user:{},showButtonDelete:{type:Boolean}},emits:["end","unassignUser"],setup(c,{emit:f}){l("Drag the item to the drop zone");const g=l(!1),s=c,o=f,{elementRef:_,handleDragStart:n,isDragging:i}=D({id:`user-${s.user.id}`,data:{user:s.user},events:{onEnd:()=>o("end")}}),b=a=>{confirm("¿Estás seguro de quitar este usuario de este rol?")&&x.delete(`guards/roles/user/${a}`).then(()=>{o("unassignUser",a)}).catch(()=>{alert("Hubo un error al eliminar el usuario del rol.")})};return(a,e)=>(p(),u("div",{ref_key:"elementRef",ref:_,onPointerdown:e[1]||(e[1]=(...d)=>t(n)&&t(n)(...d)),class:h(["user-card",{dragging:t(i),dropped:g.value}]),tabindex:"0",role:"button","aria-grabbed":"false","aria-pressed":t(i),title:`Arrastrar ${s.user.name}`},[e[2]||(e[2]=r("div",{class:"user-avatar"},null,-1)),r("div",U,[r("p",$,m(s.user.name),1),r("span",z,m(s.user.type===1?"Administrador":"Usuario"),1)]),s.showButtonDelete?(p(),u("button",{key:0,class:"delete-btn",onClick:e[0]||(e[0]=B(d=>b(s.user.id),["stop"])),title:"Eliminar usuario"},[k(t(w),{size:16})])):y("",!0),e[3]||(e[3]=r("div",{class:"drag-indicator"},null,-1))],42,E))}}),j=C(N,[["__scopeId","data-v-081b4450"]]);export{j as default};
