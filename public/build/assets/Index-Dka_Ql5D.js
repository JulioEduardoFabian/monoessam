import{_ as E}from"./index-BW71nXkk.js";import{_ as y}from"./index-Dkyq_QFi.js";import{_ as N}from"./Input.vue_vue_type_script_setup_true_lang-dmECaf3H.js";import{T as P,a as L,b as V,c as j,_ as z}from"./AppLayout.vue_vue_type_script_setup_true_lang-DycRF0Bq.js";import{d as C,g as w,o as c,w as a,k as A,I,J as R,u as r,j as F,s as M,c as u,a as s,m as O,b as t,F as _,p as h,t as i,e as v,n as H,v as U}from"./app-bo_xmZhR.js";import{_ as J}from"./ChangeStatusModal.vue_vue_type_script_setup_true_lang-BzDUuiQB.js";import{_ as K}from"./StaffRegistrationDialog.vue_vue_type_script_setup_true_lang-BxxGFmFQ.js";import{c as q}from"./createLucideIcon-C6KhMRxO.js";import"./Primitive-CwRMqYOS.js";import"./utils-bRKmu4jq.js";import"./index-dkW4UkYo.js";import"./Presence-BdgnFn-h.js";import"./useForwardExpose-CCZUmPZg.js";import"./PopperContent-BGnAheBP.js";import"./Teleport-Bh58HAPI.js";import"./VisuallyHidden-DSEkkRLU.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-6PEr-A9c.js";import"./utils-CAiU9f-0.js";import"./useTypeahead-DNe61jQk.js";import"./RovingFocusGroup-CqRxGPTc.js";import"./usePrimitiveElement-DHXUxmBB.js";import"./Collection-Ba_8Jhx1.js";import"./DialogTitle-DJ2peSxV.js";import"./x-4-SIWb8R.js";import"./DialogDescription-DislmP5O.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./hand-helping-iGFps8KI.js";import"./building-2-6oJdLwTU.js";import"./user-BC1SjwdM.js";import"./chevron-right-BFjIoyI6.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-CqDsraHJ.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-DA35nglz.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-1Pjhzebr.js";import"./DialogDescription.vue_vue_type_script_setup_true_lang-CgT7mrmU.js";import"./TabsTrigger.vue_vue_type_script_setup_true_lang-CQHIQSTQ.js";import"./RovingFocusItem-pzKEz16Y.js";import"./AlertErrors.vue_vue_type_script_setup_true_lang-DFhwkIP6.js";import"./AttachmentsTab.vue_vue_type_script_setup_true_lang-wR9vMPVN.js";import"./index-Bd5-sa_G.js";import"./FileUploadItem.vue_vue_type_script_setup_true_lang-hkw9eq69.js";import"./FinancialDataTab.vue_vue_type_script_setup_true_lang-9ZItEdw7.js";import"./Label.vue_vue_type_script_setup_true_lang-DE_19IEN.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-C4TO-eud.js";import"./chevron-down-CWnzRNba.js";import"./check-CL4fcynC.js";import"./InputSearchRole.vue_vue_type_script_setup_true_lang-BKih5hdH.js";import"./plus-DxJ4e3uk.js";import"./circle-alert-BiMf9zni.js";import"./FamilyLoadSection.vue_vue_type_script_setup_true_lang-B1qPO44d.js";import"./FinancialInfoSection.vue_vue_type_script_setup_true_lang-D4BDq0fZ.js";import"./PersonalDataTab.vue_vue_type_script_setup_true_lang-DJP6fvSY.js";import"./EmergencyContactSection.vue_vue_type_script_setup_true_lang-Bf69La93.js";import"./PhotoUploadSection.vue_vue_type_script_setup_true_lang-BS9nvxUX.js";import"./InputSearchSelectable.vue_vue_type_script_setup_true_lang-BbMD7im7.js";import"./SizesTab.vue_vue_type_script_setup_true_lang-Cbzg5XQz.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=q("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Q=C({__name:"TooltipProvider",props:{delayDuration:{default:0},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(f){const n=f;return(d,x)=>(c(),w(r(P),I(R(n)),{default:a(()=>[A(d.$slots,"default")]),_:3},16))}}),W={class:"flex h-full flex-1 flex-col gap-6 rounded-xl p-4"},X={class:"flex items-center justify-between"},Y={class:"flex items-center"},Z={id:"status",class:"ms-2 rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:outline-none"},tt=["value"],et={class:"bg-card rounded-xl border shadow-sm"},ot={class:"w-full border-collapse"},st={class:"p-4"},rt={class:"p-4"},at={class:"p-4"},it={class:"p-4"},nt={class:"p-4"},lt=["href"],ct={class:"p-4"},dt={class:"p-4 text-center"},mt={class:"flex items-center justify-center gap-3"},ue=C({__name:"Index",props:{cafes:{},staff:{},roles:{}},setup(f){const n=f,d=F(n.staff),x=async l=>{if(confirm("Est치s seguro de eliminar a este personal?"))try{await U.delete("/staff/"+l),d.value=d.value.filter(o=>o.id!==l)}catch(o){console.error("Error al eliminar personal:",o)}},k=["Lista negra","En proceso","Contratado","Cesado","Retirado","Abandono","Cumpli칩 Contrato"],S=["bg-zinc-500 text-white","bg-green-500 text-white","bg-green-500 text-white","bg-red-500 text-white","bg-red-500 text-white","bg-red-500 text-white","bg-blue-500 text-white"],$=l=>k[l]??"Desconocido",T=l=>S[l]??"",B=()=>{},D={0:"Lista negra",1:"En proceso",2:"Contratado",3:"Cesado",4:"Retirado",5:"Abandono",6:"Cumpli칩 Contrato"};return M(n,()=>{d.value=n.staff}),(l,o)=>(c(),u(_,null,[s(r(O),{title:"Personal"}),s(z,null,{default:a(()=>[t("div",W,[t("div",X,[o[1]||(o[1]=t("h1",{class:"text-2xl font-semibold tracking-tight"},"Personal",-1)),s(K,{cafes:n.cafes,roles:n.roles},null,8,["cafes","roles"])]),t("div",Y,[s(N,{type:"text",placeholder:"Buscar personal por dni o nombre"}),t("select",Z,[(c(),u(_,null,h(D,(e,m)=>t("option",{key:m,value:m},i(e),9,tt)),64))]),s(r(y),{variant:"default",class:"ms-2 cursor-pointer bg-blue-600 text-white hover:bg-blue-700"},{default:a(()=>o[2]||(o[2]=[v("Buscar")])),_:1})]),t("div",et,[t("table",ot,[o[3]||(o[3]=t("thead",{class:"bg-muted/50"},[t("tr",null,[t("th",{class:"p-4 text-left text-sm font-semibold"},"Nombre"),t("th",{class:"p-4 text-left text-sm font-semibold"},"DNI"),t("th",{class:"p-4 text-left text-sm font-semibold"},"Celular"),t("th",{class:"p-4 text-left text-sm font-semibold"},"Comedor"),t("th",{class:"p-4 text-left text-sm font-semibold"},"Documentaci칩n"),t("th",{class:"p-4 text-left text-sm font-semibold"},"Estado"),t("th",{class:"p-4 text-center text-sm font-semibold"},"Opciones")])],-1)),t("tbody",null,[(c(!0),u(_,null,h(d.value,e=>{var m,b,g;return c(),u("tr",{key:e.id,class:"hover:bg-muted/30 border-t transition"},[t("td",st,i(e.name),1),t("td",rt,i(e.dni),1),t("td",at,i(e.cell),1),t("td",it,[t("p",null,i(((m=e.cafe)==null?void 0:m.name)??"Sin asignar")+" - "+i((g=(b=e.cafe)==null?void 0:b.unit)==null?void 0:g.name),1)]),t("td",nt,[(c(!0),u(_,null,h(e.staff_files,p=>(c(),w(r(Q),{key:p.id},{default:a(()=>[s(r(L),null,{default:a(()=>[s(r(V),{"as-child":""},{default:a(()=>[t("a",{class:"text-md rounded-sm text-white",href:"/storage/"+p.file_path,target:"_blank"}," 游늯 ",8,lt)]),_:2},1024),s(r(j),null,{default:a(()=>[t("p",null,i(p.file_type),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),t("td",ct,[s(r(E),{class:H([T(e.status),"cursor-pointer rounded-sm"]),onClick:o[0]||(o[0]=p=>B())},{default:a(()=>[v(i($(e.status)),1)]),_:2},1032,["class"])]),t("td",dt,[t("div",mt,[s(J,{staff:e},null,8,["staff"]),s(r(y),{variant:"ghost",size:"icon",class:"cursor-pointer text-red-600 hover:text-red-800",onClick:p=>x(e.id)},{default:a(()=>[s(r(G),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])])])}),128))])])])])]),_:1})],64))}});export{ue as default};
