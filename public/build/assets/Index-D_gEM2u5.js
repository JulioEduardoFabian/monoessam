import{_ as C}from"./index-CcXThDle.js";import{_ as $}from"./index-I7cvVhF1.js";import{T as F,a as S,b as T,c as D,_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-DHGv_Wob.js";import{d as I,g as v,o as l,w as a,k as O,I as R,J as H,u as r,j as U,s as J,c as m,a as o,m as K,b as t,F as f,p as h,t as i,n as N,e as B,i as j,v as q}from"./app-BGuJj4n-.js";import{_ as E}from"./ChangeStatusModal.vue_vue_type_script_setup_true_lang-T8V60j9U.js";import{_ as P}from"./StaffInfoModal.vue_vue_type_script_setup_true_lang-yB-jM-Ej.js";import{_ as G}from"./StaffRegistrationDialog.vue_vue_type_script_setup_true_lang-CVPMSTQq.js";import{c as Q}from"./createLucideIcon-Bk6pO0PQ.js";import"./Primitive-8La-6ZWo.js";import"./utils-bRKmu4jq.js";import"./index-dkW4UkYo.js";import"./Presence-CauZMsjt.js";import"./useForwardExpose-BetI6JK7.js";import"./PopperContent-tEtutrmq.js";import"./Teleport-BW1ucxbY.js";import"./VisuallyHidden-i7cUzevK.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-ypFjZJGy.js";import"./utils-Diz6qNwj.js";import"./useTypeahead-C6gNQqrm.js";import"./RovingFocusGroup-C0VRGsx-.js";import"./usePrimitiveElement-BRTBBMsD.js";import"./Collection-DxS0V0zf.js";import"./DialogTitle-f4FcCIPg.js";import"./x-C5Jj2EQp.js";import"./DialogDescription-Brfve-Mt.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./hand-helping-OGla8JX6.js";import"./building-2-DuMIdfIn.js";import"./user-BJU6dWeh.js";import"./chevron-right-BUZHrldH.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-YAue2wKK.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-CUUyRarb.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-6gFYxK_c.js";import"./DialogDescription.vue_vue_type_script_setup_true_lang-DDZPSJvL.js";import"./TabsTrigger.vue_vue_type_script_setup_true_lang-Dd0tGjWp.js";import"./RovingFocusItem-DknMTTP0.js";import"./AlertErrors.vue_vue_type_script_setup_true_lang-E3KVfToN.js";import"./AttachmentsTab.vue_vue_type_script_setup_true_lang-bx882dTt.js";import"./index-BccRJ1Su.js";import"./FileUploadItem.vue_vue_type_script_setup_true_lang-B4f11ZQG.js";import"./Input.vue_vue_type_script_setup_true_lang-CeojACBG.js";import"./FinancialDataTab.vue_vue_type_script_setup_true_lang-DXxd9Qpg.js";import"./Label.vue_vue_type_script_setup_true_lang-Ci93RyyP.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-xHXtJvLH.js";import"./chevron-down-CwP_j8Vz.js";import"./check-DRJ9i4ep.js";import"./InputSearchRole.vue_vue_type_script_setup_true_lang-B8M-vN8v.js";import"./plus-D2uwW4R3.js";import"./circle-alert-CKFKbJWn.js";import"./FamilyLoadSection.vue_vue_type_script_setup_true_lang-Br9tHZiF.js";import"./FinancialInfoSection.vue_vue_type_script_setup_true_lang-CrwVdSmD.js";import"./PersonalDataTab.vue_vue_type_script_setup_true_lang-a-5_NDOP.js";import"./EmergencyContactSection.vue_vue_type_script_setup_true_lang-DH3T2HUM.js";import"./PhotoUploadSection.vue_vue_type_script_setup_true_lang-CzagOhTi.js";import"./InputSearchSelectable.vue_vue_type_script_setup_true_lang-Eb-6SKg3.js";import"./SizesTab.vue_vue_type_script_setup_true_lang-Biog2wa2.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=Q("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),z=I({__name:"TooltipProvider",props:{delayDuration:{default:0},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(g){const c=g;return(d,b)=>(l(),v(r(F),R(H(c)),{default:a(()=>[O(d.$slots,"default")]),_:3},16))}}),W={class:"flex h-full flex-1 flex-col gap-6 rounded-xl p-4"},X={class:"flex items-center justify-between"},Y={class:"bg-card rounded-xl border shadow-sm"},Z={class:"hidden overflow-x-auto md:block"},tt={class:"w-full table-auto border-collapse"},et={class:"p-4"},st={class:"p-4"},ot={class:"p-4"},rt={class:"p-4"},it={class:"p-4"},at=["href"],lt={class:"p-4"},nt={class:"p-4 text-center"},dt={class:"flex items-center justify-center gap-3"},mt={class:"space-y-4 md:hidden"},ct={class:"mb-3 flex items-start justify-between border-b pb-3"},pt={class:"flex-1"},ut={class:"mb-1 text-base font-semibold"},_t={class:"mb-4 space-y-2"},xt={class:"flex items-center gap-2"},ft={class:"text-sm"},ht={class:"flex items-center gap-2"},gt={class:"text-sm"},bt={class:"flex items-start gap-2"},vt={class:"flex-1 text-sm"},yt={class:"flex items-start gap-2"},wt={class:"flex flex-wrap gap-2"},kt=["href"],Ct={key:0,class:"text-muted-foreground text-sm"},$t={class:"flex items-center justify-end gap-2 border-t pt-3"},St={key:0,class:"py-12 text-center"},Ne=I({__name:"Index",props:{cafes:{},staff:{},roles:{}},setup(g){const c=g,d=U(c.staff),b=async p=>{if(confirm("EstÃ¡s seguro de eliminar a este personal?"))try{await q.delete("/staff/"+p),d.value=d.value.filter(s=>s.id!==p)}catch(s){console.error("Error al eliminar personal:",s)}},L=["Lista negra","En proceso","Contratado","Cesado","Retirado","Abandono","CumpliÃ³ Contrato"],A=["bg-zinc-500 text-white","bg-yellow-500 text-white","bg-green-500 text-white","bg-gray-500 text-white","bg-red-500 text-white","bg-red-500 text-white","bg-blue-500 text-white"],y=p=>L[p]??"Desconocido",w=p=>A[p]??"",k=()=>{};return J(c,()=>{d.value=c.staff}),(p,s)=>(l(),m(f,null,[o(r(K),{title:"Personal"}),o(M,null,{default:a(()=>[t("div",W,[t("div",X,[s[2]||(s[2]=t("h1",{class:"text-2xl font-semibold tracking-tight"},"Personal",-1)),o(G,{cafes:c.cafes,roles:c.roles},null,8,["cafes","roles"])]),t("div",Y,[t("div",Z,[t("table",tt,[s[3]||(s[3]=t("thead",{class:"bg-muted/50"},[t("tr",null,[t("th",{class:"p-4 text-left text-sm font-semibold"},"Nombre"),t("th",{class:"p-4 text-left text-sm font-semibold"},"DNI"),t("th",{class:"p-4 text-left text-sm font-semibold"},"Celular"),t("th",{class:"p-4 text-left text-sm font-semibold"},"Comedor"),t("th",{class:"p-4 text-left text-sm font-semibold"},"DocumentaciÃ³n"),t("th",{class:"p-4 text-left text-sm font-semibold"},"Estado"),t("th",{class:"p-4 text-center text-sm font-semibold"},"Opciones")])],-1)),t("tbody",null,[(l(!0),m(f,null,h(d.value,e=>{var u,_,x;return l(),m("tr",{key:e.id,class:"hover:bg-muted/30 border-t transition"},[t("td",et,i(e.name),1),t("td",st,i(e.dni),1),t("td",ot,i(e.cell),1),t("td",rt,[t("p",null,i(((u=e.cafe)==null?void 0:u.name)??"Sin asignar")+" - "+i((x=(_=e.cafe)==null?void 0:_.unit)==null?void 0:x.name),1)]),t("td",it,[(l(!0),m(f,null,h(e.staff_files,n=>(l(),v(r(z),{key:n.id},{default:a(()=>[o(r(S),null,{default:a(()=>[o(r(T),{"as-child":""},{default:a(()=>[t("a",{class:"text-md rounded-sm text-white",href:"/storage/"+n.file_path,target:"_blank"}," ðŸ“„ ",8,at)]),_:2},1024),o(r(D),null,{default:a(()=>[t("p",null,i(n.file_type),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),t("td",lt,[o(r(C),{class:N([w(e.status),"cursor-pointer rounded-sm"]),onClick:s[0]||(s[0]=n=>k())},{default:a(()=>[B(i(y(e.status)),1)]),_:2},1032,["class"])]),t("td",nt,[t("div",dt,[o(E,{staff:e},null,8,["staff"]),o(r($),{variant:"ghost",size:"icon",class:"cursor-pointer text-red-600 hover:text-red-800",onClick:n=>b(e.id)},{default:a(()=>[o(r(V),{class:"h-4 w-4"})]),_:2},1032,["onClick"]),o(P,{staff:e},null,8,["staff"])])])])}),128))])])]),t("div",mt,[(l(!0),m(f,null,h(d.value,e=>{var u,_,x;return l(),m("div",{key:e.id,class:"rounded-lg border bg-white p-4 shadow-sm transition hover:shadow-md"},[t("div",ct,[t("div",pt,[t("h3",ut,i(e.name),1),o(r(C),{class:N([w(e.status),"cursor-pointer rounded-sm text-xs"]),onClick:s[1]||(s[1]=n=>k())},{default:a(()=>[B(i(y(e.status)),1)]),_:2},1032,["class"])])]),t("div",_t,[t("div",xt,[s[4]||(s[4]=t("span",{class:"text-muted-foreground min-w-[80px] text-xs font-medium"},"DNI:",-1)),t("span",ft,i(e.dni),1)]),t("div",ht,[s[5]||(s[5]=t("span",{class:"text-muted-foreground min-w-[80px] text-xs font-medium"},"Celular:",-1)),t("span",gt,i(e.cell),1)]),t("div",bt,[s[6]||(s[6]=t("span",{class:"text-muted-foreground min-w-[80px] text-xs font-medium"},"Comedor:",-1)),t("span",vt,i(((u=e.cafe)==null?void 0:u.name)??"Sin asignar")+" - "+i((x=(_=e.cafe)==null?void 0:_.unit)==null?void 0:x.name),1)]),t("div",yt,[s[7]||(s[7]=t("span",{class:"text-muted-foreground min-w-[80px] text-xs font-medium"},"Documentos:",-1)),t("div",wt,[(l(!0),m(f,null,h(e.staff_files,n=>(l(),v(r(z),{key:n.id},{default:a(()=>[o(r(S),null,{default:a(()=>[o(r(T),{"as-child":""},{default:a(()=>[t("a",{class:"inline-block rounded-sm text-lg transition hover:scale-110",href:"/storage/"+n.file_path,target:"_blank"}," ðŸ“„ ",8,kt)]),_:2},1024),o(r(D),null,{default:a(()=>[t("p",null,i(n.file_type),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),!e.staff_files||e.staff_files.length===0?(l(),m("span",Ct," Sin documentos ")):j("",!0)])])]),t("div",$t,[o(E,{staff:e},null,8,["staff"]),o(r($),{variant:"ghost",size:"icon",class:"cursor-pointer text-red-600 hover:text-red-800",onClick:n=>b(e.id)},{default:a(()=>[o(r(V),{class:"h-4 w-4"})]),_:2},1032,["onClick"]),o(P,{staff:e},null,8,["staff"])])])}),128)),!d.value||d.value.length===0?(l(),m("div",St,s[8]||(s[8]=[t("p",{class:"text-muted-foreground"},"No hay personal registrado",-1)]))):j("",!0)])])])]),_:1})],64))}});export{Ne as default};
