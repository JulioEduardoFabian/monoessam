import{c as Z}from"./utils-bRKmu4jq.js";import{c as se,a as le,u as oe}from"./useForwardPropsEmits-CDRXcYP-.js";import{a as Q,d as W}from"./index-BHhyCWcG.js";import{i as X,a as Y}from"./Checkbox.vue_vue_type_script_setup_true_lang-Nk-QbAIW.js";import{i as j,u as ee}from"./check-CZUw54I4.js";import{A as B,d as C,E as ne,g as h,o as c,w as b,a as f,u as e,j as F,i as k,N as ae,y as E,J as I,K as R,bc as re,a0 as ie,k as V,q as H,c as x,b as m,F as q,l as P,e as z,t as w}from"./app-RAzx5sBv.js";import{u as de}from"./usePrimitiveElement-CH0xUD5m.js";import{u as A}from"./useForwardExpose-CBCrBFH8.js";import{_ as ue}from"./RovingFocusGroup-B7hq8uwQ.js";import{P as D}from"./Primitive-D9tzbjnl.js";import{c as ce}from"./index-dkW4UkYo.js";import{_ as pe}from"./RovingFocusItem-D7Qm4khQ.js";import{_ as me}from"./DatePicker.vue_vue_type_script_setup_true_lang-CLwUZUtk.js";import{_ as fe}from"./DinnersTable.vue_vue_type_script_setup_true_lang-DoplLtH7.js";import{_ as ve}from"./ExcelDialog.vue_vue_type_script_setup_true_lang-CILMbhxD.js";import{_ as ge}from"./OtherUnitDialog.vue_vue_type_script_setup_true_lang-cibgGVmt.js";import{_ as ye}from"./PricesDialog.vue_vue_type_script_setup_true_lang--ntxunN1.js";import{_ as be}from"./ReportDialog.vue_vue_type_script_setup_true_lang-BoNEtKlv.js";import{c as U}from"./createLucideIcon-B1dBweFY.js";function he({type:o,defaultValue:n,modelValue:a}){const d=a||n;return a!==void 0||n!==void 0?Array.isArray(d)?"multiple":"single":o??"single"}function _e({type:o,defaultValue:n,modelValue:a}){return o||he({type:o,defaultValue:n,modelValue:a})}function xe({type:o,defaultValue:n}){return n!==void 0?n:o==="single"?void 0:[]}function we(o,n){const a=B(()=>_e(o)),d=Q(o,"modelValue",n,{defaultValue:xe(o),passive:o.modelValue===void 0,deep:!0});function v(s){if(a.value==="single")d.value=j(s,d.value)?void 0:s;else{const t=Array.isArray(d.value)?[...d.value||[]]:[d.value].filter(Boolean);if(X(t,s)){const r=t.findIndex(g=>j(g,s));t.splice(r,1)}else t.push(s);d.value=t}}const u=B(()=>a.value==="single");return{modelValue:d,changeModelValue:v,isSingle:u}}const[te,Ve]=se("ToggleGroupRoot"),ke=C({__name:"ToggleGroupRoot",props:{rovingFocus:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},orientation:{},dir:{},loop:{type:Boolean,default:!0},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},type:{},modelValue:{},defaultValue:{}},emits:["update:modelValue"],setup(o,{emit:n}){const a=o,d=n,{loop:v,rovingFocus:u,disabled:s,dir:t}=ne(a),r=de(t),{forwardRef:g,currentElement:_}=A(),{modelValue:p,changeModelValue:$,isSingle:T}=we(a,d),y=ee(_);return Ve({isSingle:T,modelValue:p,changeModelValue:$,dir:r,orientation:a.orientation,loop:v,rovingFocus:u,disabled:s}),(l,S)=>(c(),h(ae(e(u)?e(ue):e(D)),{"as-child":"",orientation:e(u)?l.orientation:void 0,dir:e(r),loop:e(u)?e(v):void 0},{default:b(()=>[f(e(D),{ref:e(g),role:"group","as-child":l.asChild,as:l.as},{default:b(()=>[F(l.$slots,"default",{modelValue:e(p)}),e(y)&&l.name?(c(),h(Y,{key:0,name:l.name,required:l.required,value:e(p)},null,8,["name","required","value"])):k("",!0)]),_:3},8,["as-child","as"])]),_:3},8,["orientation","dir","loop"]))}}),Ce=C({__name:"Toggle",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null],default:void 0},disabled:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(o,{emit:n}){const a=o,d=n,{forwardRef:v,currentElement:u}=A(),s=te(null),t=Q(a,"modelValue",d,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function r(){t.value=!t.value}const g=B(()=>t.value?"on":"off"),_=ee(u);return(p,$)=>(c(),h(e(D),{ref:e(v),type:p.as==="button"?"button":void 0,"as-child":a.asChild,as:p.as,"aria-pressed":e(t),"data-state":g.value,"data-disabled":p.disabled?"":void 0,disabled:p.disabled,onClick:r},{default:b(()=>[F(p.$slots,"default",{modelValue:e(t),disabled:p.disabled,pressed:e(t),state:g.value}),e(_)&&p.name&&!e(s)?(c(),h(Y,{key:0,type:"checkbox",name:p.name,value:e(t),required:p.required},null,8,["name","value","required"])):k("",!0)]),_:3},8,["type","as-child","as","aria-pressed","data-state","data-disabled","disabled"]))}}),Se=C({__name:"ToggleGroupItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"button"}},setup(o){const n=o,a=te(),d=B(()=>{var s;return((s=a.disabled)==null?void 0:s.value)||n.disabled}),v=B(()=>X(a.modelValue.value,n.value)),{forwardRef:u}=A();return(s,t)=>(c(),h(ae(e(a).rovingFocus.value?e(pe):e(D)),{"as-child":"",focusable:!d.value,active:v.value},{default:b(()=>[f(e(Ce),E(n,{ref:e(u),disabled:d.value,"model-value":v.value,"onUpdate:modelValue":t[0]||(t[0]=r=>e(a).changeModelValue(s.value))}),{default:b(r=>[F(s.$slots,"default",I(R(r)))]),_:3},16,["disabled","model-value"])]),_:3},8,["focusable","active"]))}});/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=U("CoffeeIcon",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=U("FileIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=U("TagIcon",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),M=C({__name:"ToggleGroup",props:{rovingFocus:{type:Boolean},disabled:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},type:{},modelValue:{},defaultValue:{},class:{},variant:{},size:{}},emits:["update:modelValue"],setup(o,{emit:n}){const a=o,d=n;re("toggleGroup",{variant:a.variant,size:a.size});const v=W(a,"class","size","variant"),u=le(v,d);return(s,t)=>(c(),h(e(ke),E({"data-slot":"toggle-group","data-size":s.size,"data-variant":s.variant},e(u),{class:e(Z)("group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",a.class)}),{default:b(r=>[F(s.$slots,"default",I(R(r)))]),_:3},16,["data-size","data-variant","class"]))}}),ze=ce("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),G=C({__name:"ToggleGroupItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{},variant:{},size:{}},setup(o){const n=o,a=ie("toggleGroup"),d=W(n,"class","size","variant"),v=oe(d);return(u,s)=>{var t,r,g,_;return c(),h(e(Se),E({"data-slot":"toggle-group-item","data-variant":((t=e(a))==null?void 0:t.variant)||u.variant,"data-size":((r=e(a))==null?void 0:r.size)||u.size},e(v),{class:e(Z)(e(ze)({variant:((g=e(a))==null?void 0:g.variant)||u.variant,size:((_=e(a))==null?void 0:_.size)||u.size}),"min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",n.class)}),{default:b(p=>[F(u.$slots,"default",I(R(p)))]),_:3},16,["data-variant","data-size","class"])}}}),Be={class:"flex flex-col gap-3 rounded-xl bg-white p-4 shadow-md"},Fe={class:"flex flex-col gap-3 md:flex-row"},$e={class:"min-w-0 flex-1 space-y-3"},De={class:"space-y-1"},Te={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},qe={class:"space-y-1"},Pe={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},Me={class:"space-y-1"},Ge={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},Ee={class:"truncate"},Ie={class:"flex min-w-0 flex-1 flex-col gap-3"},Re={class:"flex min-w-0 flex-1 flex-col gap-3"},Ae={class:"flex w-full flex-col items-center space-y-1"},Ue={class:"flex flex-wrap items-center gap-2 rounded-lg bg-gray-50 px-3 py-2 text-sm"},Oe={key:0,class:"flex items-center gap-1 rounded-full bg-blue-100 px-2 py-1 text-blue-800"},Ne={key:1,class:"flex items-center gap-1 rounded-full bg-purple-100 px-2 py-1 text-purple-800"},je={key:2,class:"flex items-center gap-1 rounded-full bg-amber-100 px-2 py-1 text-amber-800"},He={key:3,class:"ml-auto text-gray-500"},ca=C({__name:"SalesHeader",props:{cafes:{},services:{},receipt_types:{},sale_types:{}},emits:["showServicesFromCafeSelected","updateDate","updateFormData","addServiceSelected"],setup(o,{emit:n}){const a=n,d=()=>{const y={receipt_type_id:g.value,sale_type_id:t.value,cafe_id:s.value};a("updateFormData",y)},v=o,u=V(!1),s=V(0),t=V(0),r=V([]),g=V(0),_=V(!1),p=()=>{u.value=!0,_.value=!1};H(s,y=>{const l=v.cafes.find(S=>S.id===y);l?(r.value=l.services,a("showServicesFromCafeSelected",r.value)):(r.value=[],a("showServicesFromCafeSelected",r.value))}),H([g,t,s],()=>{d()});const $=y=>{a("updateDate",y)},T=y=>{a("addServiceSelected",y)};return(y,l)=>{var S,O,N;return c(),x("header",Be,[m("div",Fe,[m("div",$e,[m("div",De,[m("label",Te,[f(e(J),{class:"h-4 w-4 text-blue-500"}),l[3]||(l[3]=m("span",null,"Tipo de Documento",-1))]),f(e(M),{modelValue:g.value,"onUpdate:modelValue":l[0]||(l[0]=i=>g.value=i),type:"single",class:"flex flex-wrap gap-1 rounded-lg bg-gray-50 p-1"},{default:b(()=>[(c(!0),x(q,null,P(y.receipt_types,i=>(c(),h(e(G),{value:i.id,key:i.id,class:"min-w-[100px] flex-1 rounded-md px-3 py-2 text-center text-sm transition-all hover:bg-blue-50 hover:text-blue-600 data-[state=on]:bg-blue-500 data-[state=on]:text-white"},{default:b(()=>[z(w(i.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),m("div",qe,[m("label",Pe,[f(e(K),{class:"h-4 w-4 text-purple-500"}),l[4]||(l[4]=m("span",null,"Tipo de Venta",-1))]),f(e(M),{modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=i=>t.value=i),type:"single",class:"flex flex-wrap gap-1 rounded-lg bg-gray-50 p-1"},{default:b(()=>[(c(!0),x(q,null,P(y.sale_types,i=>(c(),h(e(G),{value:i.id,key:i.id,class:"min-w-[100px] flex-1 rounded-md px-3 py-2 text-center text-sm transition-all hover:bg-purple-50 hover:text-purple-600 data-[state=on]:bg-purple-500 data-[state=on]:text-white"},{default:b(()=>[z(w(i.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),m("div",Me,[m("label",Ge,[f(e(L),{class:"h-4 w-4 text-amber-500"}),l[5]||(l[5]=m("span",null,"Cafetería",-1))]),f(e(M),{modelValue:s.value,"onUpdate:modelValue":l[2]||(l[2]=i=>s.value=i),type:"single",class:"flex flex-wrap gap-1 rounded-lg bg-gray-50 p-1"},{default:b(()=>[(c(!0),x(q,null,P(y.cafes,i=>(c(),h(e(G),{value:i.id,key:i.id,class:"min-w-[120px] flex-1 rounded-md px-2 py-2 text-center text-sm transition-all hover:bg-amber-50 hover:text-amber-600 data-[state=on]:bg-amber-500 data-[state=on]:text-white"},{default:b(()=>[m("span",Ee,w(i.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),f(me,{onUpdateDate:$,class:"w-full"})]),m("div",Ie,[f(fe,{services:r.value,onAddServiceSelected:T},null,8,["services"])]),m("div",Re,[m("div",Ae,[f(ve,{class:"w-full"}),f(be,{class:"w-full"}),f(ye,{services:r.value,class:"w-full"},null,8,["services"]),f(ge,{showOtherUnitDialog:_.value,onDoublePriceSave:p,class:"w-full"},null,8,["showOtherUnitDialog"])]),l[6]||(l[6]=m("div",{class:"flex w-full flex-col gap-2"},null,-1))])]),m("div",Ue,[g.value?(c(),x("span",Oe,[f(e(J),{class:"h-3 w-3"}),z(" "+w((S=y.receipt_types.find(i=>i.id===g.value))==null?void 0:S.name),1)])):k("",!0),t.value?(c(),x("span",Ne,[f(e(K),{class:"h-3 w-3"}),z(" "+w((O=y.sale_types.find(i=>i.id===t.value))==null?void 0:O.name),1)])):k("",!0),s.value?(c(),x("span",je,[f(e(L),{class:"h-3 w-3"}),z(" "+w((N=y.cafes.find(i=>i.id===s.value))==null?void 0:N.name),1)])):k("",!0),r.value.length?(c(),x("span",He,w(r.value.length)+" servicios disponibles ",1)):k("",!0)])])}}});export{ca as _};
