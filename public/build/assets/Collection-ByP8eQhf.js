import{P as S,S as v}from"./Primitive-TQjM_kNd.js";import{d as p,g as A,o as _,w as g,r as k,u as P,B as m,c as f,Y as I,Z as R,O as $,_ as B,$ as h,k as T}from"./app-hrkelOuO.js";import{i as j}from"./useForwardPropsEmits-CeWJoX_r.js";import{i as N}from"./useForwardExpose-yXYyJMYX.js";const H=p({__name:"VisuallyHidden",props:{feature:{default:"focusable"},asChild:{type:Boolean},as:{default:"span"}},setup(t){return(e,o)=>(_(),A(P(S),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:g(()=>[k(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}});function K(t){const e=j({dir:m("ltr")});return f(()=>{var o;return(t==null?void 0:t.value)||((o=e.dir)==null?void 0:o.value)||"ltr"})}function y(){const t=m(),e=f(()=>{var o,s;return["#text","#comment"].includes((o=t.value)==null?void 0:o.$el.nodeName)?(s=t.value)==null?void 0:s.$el.nextElementSibling:N(t)});return{primitiveElement:t,currentElement:e}}const C="data-reka-collection-item";function V(t={}){const{key:e="",isProvider:o=!1}=t,s=`${e}CollectionProvider`;let a;if(o){const i=m(new Map);a={collectionRef:m(),itemMap:i},I(s,a)}else a=R(s);const w=(i=!1)=>{const n=a.collectionRef.value;if(!n)return[];const r=Array.from(n.querySelectorAll(`[${C}]`)),l=Array.from(a.itemMap.value.values()).sort((u,d)=>r.indexOf(u.ref)-r.indexOf(d.ref));return i?l:l.filter(u=>u.ref.dataset.disabled!=="")},E=p({name:"CollectionSlot",setup(i,{slots:n}){const{primitiveElement:r,currentElement:c}=y();return T(c,()=>{a.collectionRef.value=c.value}),()=>h(v,{ref:r},n)}}),b=p({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(i,{slots:n,attrs:r}){const{primitiveElement:c,currentElement:l}=y();return $(u=>{if(l.value){const d=B(l.value);a.itemMap.value.set(d,{ref:l.value,value:i.value}),u(()=>a.itemMap.value.delete(d))}}),()=>h(v,{...r,[C]:"",ref:c},n)}}),x=f(()=>Array.from(a.itemMap.value.values())),M=f(()=>a.itemMap.value.size);return{getItems:w,reactiveItems:x,itemMapSize:M,CollectionSlot:E,CollectionItem:b}}export{H as _,V as a,K as b,y as u};
