import{d as _,l as m,q as k,c as f,o as y,a,w as b,b as e,i as M,v as S,u as d,t as i,x as N}from"./app-DtjHK6VR.js";import{_ as q}from"./Card.vue_vue_type_script_setup_true_lang-D75mWGb9.js";import{_ as C}from"./Input.vue_vue_type_script_setup_true_lang-CFkqobny.js";import{c as r}from"./createLucideIcon-kYUXW7Vh.js";import{U as I}from"./user-BcX8dJou.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=r("BadgeIcon",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=r("BuildingIcon",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=r("FingerprintIcon",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=r("PhoneIcon",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=r("SandwichIcon",[["path",{d:"m2.37 11.223 8.372-6.777a2 2 0 0 1 2.516 0l8.371 6.777",key:"f1wd0e"}],["path",{d:"M21 15a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-5.25",key:"1pfu07"}],["path",{d:"M3 15a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h9",key:"1oq9qw"}],["path",{d:"m6.67 15 6.13 4.6a2 2 0 0 0 2.8-.4l3.15-4.2",key:"1fnwu5"}],["rect",{width:"20",height:"4",x:"2",y:"11",rx:"1",key:"itshg"}]]),D={class:"border-sidebar-border/70 dark:border-sidebar-border relative aspect-video overflow-hidden overflow-y-auto rounded-xl border"},T={class:"mt-2"},F={key:0,class:"mt-2 grid auto-rows-min gap-4 md:grid-cols-2"},U={class:"w-full max-w-md overflow-hidden rounded-lg bg-white shadow-md"},z={class:"space-y-3 p-4"},E={class:"flex items-center"},K={class:"font-medium"},L={class:"flex items-center"},$={class:"font-medium"},j={class:"flex items-center"},J={class:"font-medium"},O={class:"w-full max-w-md overflow-hidden rounded-lg bg-white shadow-md"},R={class:"space-y-3 p-4"},Z={class:"flex items-center"},G={class:"font-medium"},H={class:"flex items-center"},Q={class:"font-medium"},W={class:"flex items-center"},X={class:"font-medium"},Y={class:"flex items-center"},ee={class:"font-medium"},ie=_({__name:"SalesCard",props:{services:{type:Array,required:!0},cafeSelected:{type:Number,required:!0},saletypeSelected:{type:Number,required:!0},servicesSelectedToSale:{type:Array,required:!0},receiptType:{type:Number,required:!0},doublePrice:{type:Boolean},dateSelected:{type:String,default:""}},emits:["handleShowAlert","showDialog"],setup(x,{emit:g}){const o=x,p=g,l=m({}),c=m({}),n=m(""),h=()=>{if(!n.value.trim()){alert("Por favor, ingrese un DNI o nombre de comensal.");return}const s=new FormData;s.append("cafe_id",o.cafeSelected),s.append("sale_type_id",o.saletypeSelected),s.append("receipt_type",o.receiptType),s.append("services",JSON.stringify(o.servicesSelectedToSale)),s.append("dni",n.value),s.append("date",o.dateSelected),s.append("double_price",o.doublePrice),N.post("./sales",s).then(t=>{t.data.dinner&&(l.value=t.data.dinner,c.value=t.data.dinner.subdealership,p("handleShowAlert","success",t.data.message||"Venta registrada exitosamente."),n.value=""),t.data.otherCafe&&p("showDialog")}).catch(t=>{console.error("Error fetching dinners:",t),p("handleShowAlert","error",t),n.value=""})};return k(o,s=>{s.doublePrice&&h()}),(s,t)=>(y(),f("div",D,[a(d(q),{class:"min-h-full w-full overflow-y-auto p-3 shadow"},{default:b(()=>{var u;return[t[10]||(t[10]=e("p",{class:"text-center font-semibold"},"Punto de Venta",-1)),e("div",T,[a(C,{type:"text",placeholder:"Buscar por dni o nombre de comensal",modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=w=>n.value=w),class:"w-full",onKeyup:S(h,["enter"])},null,8,["modelValue"]),l.value.id?(y(),f("div",F,[e("div",U,[t[4]||(t[4]=e("div",{class:"bg-red-600 p-4 text-white"},[e("h3",{class:"text-xl font-bold"},"Información de la Concesionaria")],-1)),e("div",z,[e("div",E,[a(d(V)),e("div",null,[t[1]||(t[1]=e("p",{class:"text-sm text-gray-500"},"Nombre",-1)),e("p",K,i(c.value.name),1)])]),e("div",L,[a(d(A)),e("div",null,[t[2]||(t[2]=e("p",{class:"text-sm text-gray-500"},"RUC",-1)),e("p",$,i(c.value.ruc),1)])]),e("div",j,[a(d(v)),e("div",null,[t[3]||(t[3]=e("p",{class:"text-sm text-gray-500"},"Teléfono",-1)),e("p",J,i(c.value.phone),1)])])])]),e("div",O,[t[9]||(t[9]=e("div",{class:"bg-green-600 p-4 text-white"},[e("h3",{class:"text-xl font-bold"},"Información del Comensal")],-1)),e("div",R,[e("div",Z,[a(d(I)),e("div",null,[t[5]||(t[5]=e("p",{class:"text-sm text-gray-500"},"Nombre",-1)),e("p",G,i(l.value.name),1)])]),e("div",H,[a(d(B)),e("div",null,[t[6]||(t[6]=e("p",{class:"text-sm text-gray-500"},"DNI",-1)),e("p",Q,i(l.value.dni),1)])]),e("div",W,[a(d(v)),e("div",null,[t[7]||(t[7]=e("p",{class:"text-sm text-gray-500"},"Teléfono",-1)),e("p",X,i(l.value.phone),1)])]),e("div",Y,[a(d(P)),e("div",null,[t[8]||(t[8]=e("p",{class:"text-sm text-gray-500"},"Cafetería",-1)),e("p",ee,i((u=l.value.cafe)==null?void 0:u.name),1)])])])])])):M("",!0)])]}),_:1})]))}});export{ie as _};
