import{_ as S}from"./index-D92Ir9d1.js";import{_ as v}from"./index-BZlWQk1C.js";import{_ as M}from"./Input.vue_vue_type_script_setup_true_lang-B3aHjAzQ.js";import{T as O,a as T,b as B,c as D,_ as R}from"./AppLayout.vue_vue_type_script_setup_true_lang-vkgRMpBm.js";import{d as V,g as w,o as n,w as a,k as H,I as U,J as q,u as r,j as J,s as K,c as p,a as o,m as G,b as t,e as y,F as x,p as h,t as i,n as N,i as L,v as Q}from"./app-D7L7GUyk.js";import{_ as j}from"./ChangeStatusModal.vue_vue_type_script_setup_true_lang-BGxWNiAK.js";import{_ as E}from"./StaffInfoModal.vue_vue_type_script_setup_true_lang-YS_KSQeK.js";import{_ as W}from"./StaffRegistrationDialog.vue_vue_type_script_setup_true_lang-Cgr25NdY.js";import{c as X}from"./createLucideIcon-m4TqHfQz.js";import"./Primitive-BtRVr4P2.js";import"./utils-bRKmu4jq.js";import"./index-dkW4UkYo.js";import"./Presence-BqfU72Xl.js";import"./useForwardExpose-BT7bhao-.js";import"./PopperContent-2AFzTHZ9.js";import"./Teleport-CTHsLZKl.js";import"./VisuallyHidden-Dtcn_FJE.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CIOX10Cv.js";import"./utils-BQvqUBCf.js";import"./useTypeahead-C14kiR6s.js";import"./RovingFocusGroup-BmGYFM47.js";import"./usePrimitiveElement-Vht-oQ3T.js";import"./Collection-CoK-qg-i.js";import"./DialogTitle-D3rq__H-.js";import"./x-B5P4i8Y2.js";import"./DialogDescription-C8z5mtiU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./hand-helping-CZEVQUgP.js";import"./building-2-cll1E8Xf.js";import"./user-Co_dJjL3.js";import"./chevron-right-D163vpUy.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-D6PlnhoX.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-DSEbHgSB.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-CH8jsaOz.js";import"./DialogDescription.vue_vue_type_script_setup_true_lang-DD2MZiGV.js";import"./TabsTrigger.vue_vue_type_script_setup_true_lang-GYl8S1u7.js";import"./RovingFocusItem-ynFua3Q8.js";import"./AlertErrors.vue_vue_type_script_setup_true_lang-Jx5L-Tdo.js";import"./AttachmentsTab.vue_vue_type_script_setup_true_lang-DQRZF7y_.js";import"./index-DdX5SyNQ.js";import"./FileUploadItem.vue_vue_type_script_setup_true_lang-CJfPoNG8.js";import"./FinancialDataTab.vue_vue_type_script_setup_true_lang-BoleILt8.js";import"./Label.vue_vue_type_script_setup_true_lang-D8YcVMDI.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-D9EjG1TA.js";import"./chevron-down-DaBf0Y_5.js";import"./check-CdNeyaUK.js";import"./FamilyLoadSection.vue_vue_type_script_setup_true_lang-rdKSJTVq.js";import"./FinancialInfoSection.vue_vue_type_script_setup_true_lang-BMmow8PR.js";import"./PersonalDataTab.vue_vue_type_script_setup_true_lang-FNj1sLIL.js";import"./EmergencyContactSection.vue_vue_type_script_setup_true_lang-DPZy13lm.js";import"./PhotoUploadSection.vue_vue_type_script_setup_true_lang-CUocjOp4.js";import"./InputSearchRole.vue_vue_type_script_setup_true_lang-DBNYgHq2.js";import"./plus-DMXtpul5.js";import"./circle-alert-gtwj93He.js";import"./InputSearchSelectable.vue_vue_type_script_setup_true_lang-ta1jlSUq.js";import"./InputSelectableUnit.vue_vue_type_script_setup_true_lang-CeWBJGiM.js";import"./SizesTab.vue_vue_type_script_setup_true_lang-Dzc31ryq.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=X("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),P=V({__name:"TooltipProvider",props:{delayDuration:{default:0},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(g){const m=g;return(l,b)=>(n(),w(r(O),U(q(m)),{default:a(()=>[H(l.$slots,"default")]),_:3},16))}}),Y={class:"flex h-full flex-1 flex-col gap-6 rounded-xl p-4"},Z={class:"flex items-center justify-between"},tt={class:"flex items-center"},et={class:"bg-card rounded-xl border shadow-sm"},st={class:"hidden overflow-x-auto md:block"},ot={class:"w-full table-auto border-collapse"},rt={class:"p-4"},at={class:"p-4"},it={class:"p-4"},nt={class:"p-4"},lt={class:"p-4"},dt=["href"],mt={class:"p-4"},ct={class:"p-4 text-center"},pt={class:"flex items-center justify-center gap-3"},ut={class:"space-y-4 md:hidden"},_t={class:"mb-3 flex items-start justify-between border-b pb-3"},ft={class:"flex-1"},xt={class:"mb-1 text-base font-semibold"},ht={class:"mb-4 space-y-2"},gt={class:"flex items-center gap-2"},bt={class:"text-sm"},vt={class:"flex items-center gap-2"},yt={class:"text-sm"},wt={class:"flex items-start gap-2"},kt={class:"flex-1 text-sm"},Ct={class:"flex items-start gap-2"},$t={class:"flex flex-wrap gap-2"},St=["href"],Tt={key:0,class:"text-muted-foreground text-sm"},Bt={class:"flex items-center justify-end gap-2 border-t pt-3"},Dt={key:0,class:"py-12 text-center"},Ee=V({__name:"Index",props:{cafes:{},staff:{},roles:{},units:{}},setup(g){const m=g,l=J(m.staff),b=async c=>{if(confirm("EstÃ¡s seguro de eliminar a este personal?"))try{await Q.delete("/staff/"+c),l.value=l.value.filter(s=>s.id!==c)}catch(s){console.error("Error al eliminar personal:",s)}},z=["Lista negra","En proceso","Contratado","Cesado","Retirado","Abandono","CumpliÃ³ Contrato"],A=["bg-zinc-500 text-white","bg-yellow-500 text-white","bg-green-500 text-white","bg-gray-500 text-white","bg-red-500 text-white","bg-red-500 text-white","bg-blue-500 text-white"],k=c=>z[c]??"Desconocido",C=c=>A[c]??"",$=()=>{},F=c=>{const e=c.target.value.toLowerCase().trim();if(!e){l.value=m.staff;return}l.value=m.staff.filter(u=>u.name.toLowerCase().includes(e)||u.dni.toLowerCase().includes(e))};return K(m,()=>{l.value=m.staff}),(c,s)=>(n(),p(x,null,[o(r(G),{title:"Personal"}),o(R,null,{default:a(()=>[t("div",Y,[t("div",Z,[s[2]||(s[2]=t("h1",{class:"text-2xl font-semibold tracking-tight"},"Personal",-1)),o(W,{cafes:m.cafes,roles:m.roles,units:m.units},null,8,["cafes","roles","units"])]),t("div",tt,[o(M,{type:"text",placeholder:"Buscar personal por dni o nombre",onChange:F}),o(r(v),{variant:"default",class:"ms-2 cursor-pointer bg-blue-600 text-white hover:bg-blue-700"},{default:a(()=>s[3]||(s[3]=[y("Buscar")])),_:1})]),t("div",et,[t("div",st,[t("table",ot,[s[4]||(s[4]=t("thead",{class:"bg-muted/50"},[t("tr",null,[t("th",{class:"p-4 text-left text-sm font-semibold"},"Nombre"),t("th",{class:"p-4 text-left text-sm font-semibold"},"DNI"),t("th",{class:"p-4 text-left text-sm font-semibold"},"Celular"),t("th",{class:"p-4 text-left text-sm font-semibold"},"Comedor"),t("th",{class:"p-4 text-left text-sm font-semibold"},"DocumentaciÃ³n"),t("th",{class:"p-4 text-left text-sm font-semibold"},"Estado"),t("th",{class:"p-4 text-center text-sm font-semibold"},"Opciones")])],-1)),t("tbody",null,[(n(!0),p(x,null,h(l.value,e=>{var u,_,f;return n(),p("tr",{key:e.id,class:"hover:bg-muted/30 border-t transition"},[t("td",rt,i(e.name),1),t("td",at,i(e.dni),1),t("td",it,i(e.cell),1),t("td",nt,[t("p",null,i(((u=e.cafe)==null?void 0:u.name)??"Sin asignar")+" - "+i((f=(_=e.cafe)==null?void 0:_.unit)==null?void 0:f.name),1)]),t("td",lt,[(n(!0),p(x,null,h(e.staff_files,d=>(n(),w(r(P),{key:d.id},{default:a(()=>[o(r(T),null,{default:a(()=>[o(r(B),{"as-child":""},{default:a(()=>[t("a",{class:"text-md rounded-sm text-white",href:"/storage/"+d.file_path,target:"_blank"}," ðŸ“„ ",8,dt)]),_:2},1024),o(r(D),null,{default:a(()=>[t("p",null,i(d.file_type),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),t("td",mt,[o(r(S),{class:N([C(e.status),"cursor-pointer rounded-sm"]),onClick:s[0]||(s[0]=d=>$())},{default:a(()=>[y(i(k(e.status)),1)]),_:2},1032,["class"])]),t("td",ct,[t("div",pt,[o(j,{staff:e},null,8,["staff"]),o(r(v),{variant:"ghost",size:"icon",class:"cursor-pointer text-red-600 hover:text-red-800",onClick:d=>b(e.id)},{default:a(()=>[o(r(I),{class:"h-4 w-4"})]),_:2},1032,["onClick"]),o(E,{staff:e},null,8,["staff"])])])])}),128))])])]),t("div",ut,[(n(!0),p(x,null,h(l.value,e=>{var u,_,f;return n(),p("div",{key:e.id,class:"rounded-lg border bg-white p-4 shadow-sm transition hover:shadow-md"},[t("div",_t,[t("div",ft,[t("h3",xt,i(e.name),1),o(r(S),{class:N([C(e.status),"cursor-pointer rounded-sm text-xs"]),onClick:s[1]||(s[1]=d=>$())},{default:a(()=>[y(i(k(e.status)),1)]),_:2},1032,["class"])])]),t("div",ht,[t("div",gt,[s[5]||(s[5]=t("span",{class:"text-muted-foreground min-w-[80px] text-xs font-medium"},"DNI:",-1)),t("span",bt,i(e.dni),1)]),t("div",vt,[s[6]||(s[6]=t("span",{class:"text-muted-foreground min-w-[80px] text-xs font-medium"},"Celular:",-1)),t("span",yt,i(e.cell),1)]),t("div",wt,[s[7]||(s[7]=t("span",{class:"text-muted-foreground min-w-[80px] text-xs font-medium"},"Comedor:",-1)),t("span",kt,i(((u=e.cafe)==null?void 0:u.name)??"Sin asignar")+" - "+i((f=(_=e.cafe)==null?void 0:_.unit)==null?void 0:f.name),1)]),t("div",Ct,[s[8]||(s[8]=t("span",{class:"text-muted-foreground min-w-[80px] text-xs font-medium"},"Documentos:",-1)),t("div",$t,[(n(!0),p(x,null,h(e.staff_files,d=>(n(),w(r(P),{key:d.id},{default:a(()=>[o(r(T),null,{default:a(()=>[o(r(B),{"as-child":""},{default:a(()=>[t("a",{class:"inline-block rounded-sm text-lg transition hover:scale-110",href:"/storage/"+d.file_path,target:"_blank"}," ðŸ“„ ",8,St)]),_:2},1024),o(r(D),null,{default:a(()=>[t("p",null,i(d.file_type),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),!e.staff_files||e.staff_files.length===0?(n(),p("span",Tt," Sin documentos ")):L("",!0)])])]),t("div",Bt,[o(j,{staff:e},null,8,["staff"]),o(r(v),{variant:"ghost",size:"icon",class:"cursor-pointer text-red-600 hover:text-red-800",onClick:d=>b(e.id)},{default:a(()=>[o(r(I),{class:"h-4 w-4"})]),_:2},1032,["onClick"]),o(E,{staff:e},null,8,["staff"])])])}),128)),!l.value||l.value.length===0?(n(),p("div",Dt,s[9]||(s[9]=[t("p",{class:"text-muted-foreground"},"No hay personal registrado",-1)]))):L("",!0)])])])]),_:1})],64))}});export{Ee as default};
