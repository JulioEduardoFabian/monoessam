import{d as D,l as q,C as F,q as I,g as f,o,w as d,a as u,u as e,b as r,e as t,E as g,c as _,F as m,k as p,t as c,G as C}from"./app-JVhHwlq5.js";import{_ as B}from"./index-C1DJId2m.js";import{_ as L,a as M,b as P,c as j,d as G}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-CFFagpjx.js";import{_ as H}from"./DialogFooter.vue_vue_type_script_setup_true_lang-DVPWzAZa.js";import{_ as N}from"./Input.vue_vue_type_script_setup_true_lang-BaKIk-mr.js";import{_ as v,a as y,b as V,c as w,d as x,e as $,f as k}from"./SelectValue.vue_vue_type_script_setup_true_lang-axMnZTZq.js";import{c as R}from"./createLucideIcon-Bbofj8EZ.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=R("UserPlusIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),z={class:"flex w-full flex-row"},J={class:"w-full"},K={class:"w-full"},O={class:"flex flex-row"},Q={class:"flex flex-row"},ae=D({__name:"Modal",props:{areas:{},cafes:{},headquarters:{},roles:{}},setup(A){const S=q(!1),i=q([]),U=q([]),b=A,s=F({name:"",email:"",password:"",cafe_id:null,headquarter_id:null,area_id:null,role_id:null});I(s,n=>{if(n.cafe_id){const l=b.cafes.find(a=>a.id==n.cafe_id);l?i.value=l.areas:i.value=[]}else{const l=b.headquarters.find(a=>a.id==n.headquarter_id);l?i.value=l.areas:i.value=[]}if(n.area_id){const l=i.value.find(a=>a.id==n.area_id);l?U.value=l.roles:U.value=[]}});const E=()=>{s.post(route("users"),{onSuccess:()=>{S.value=!1,s.reset()}})};return(n,l)=>(o(),f(e(G),{open:S.value,"onUpdate:open":l[7]||(l[7]=a=>S.value=a)},{default:d(()=>[u(e(L),null,{default:d(()=>[u(B,{title:"Agregar Usuario",class:"h-full w-auto bg-blue-400"},{default:d(()=>[u(e(T))]),_:1})]),_:1}),u(e(M),null,{default:d(()=>[u(e(P),null,{default:d(()=>[u(e(j),null,{default:d(()=>l[8]||(l[8]=[t("Nuevo Colaborador")])),_:1}),u(e(N),{modelValue:e(s).name,"onUpdate:modelValue":l[0]||(l[0]=a=>e(s).name=a),type:"text",placeholder:"Nombre"},null,8,["modelValue"]),u(e(N),{modelValue:e(s).email,"onUpdate:modelValue":l[1]||(l[1]=a=>e(s).email=a),type:"email",placeholder:"Email"},null,8,["modelValue"]),u(e(N),{modelValue:e(s).password,"onUpdate:modelValue":l[2]||(l[2]=a=>e(s).password=a),type:"password",placeholder:"Contraseña"},null,8,["modelValue"])]),_:1}),r("div",z,[g(r("div",J,[u(e(v),{class:"w-full",modelValue:e(s).cafe_id,"onUpdate:modelValue":l[3]||(l[3]=a=>e(s).cafe_id=a)},{default:d(()=>[u(e(y),{class:"w-full"},{default:d(()=>[u(e(V),{placeholder:"Selecciona una cafetería"})]),_:1}),u(e(w),null,{default:d(()=>[u(e(x),null,{default:d(()=>[u(e($),null,{default:d(()=>l[9]||(l[9]=[t("Cafeterías")])),_:1}),(o(!0),_(m,null,p(b.cafes,a=>(o(),f(e(k),{value:a.id,key:a.id},{default:d(()=>[t(c(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])],512),[[C,e(s).headquarter_id==null]]),g(r("div",null,l[10]||(l[10]=[r("p",{class:"p-2"},"o",-1)]),512),[[C,e(s).cafe_id==null&&e(s).headquarter_id==null]]),g(r("div",K,[u(e(v),{modelValue:e(s).headquarter_id,"onUpdate:modelValue":l[4]||(l[4]=a=>e(s).headquarter_id=a)},{default:d(()=>[u(e(y),{class:"w-full"},{default:d(()=>[u(e(V),{placeholder:"Selecciona una sede"})]),_:1}),u(e(w),null,{default:d(()=>[u(e(x),null,{default:d(()=>[u(e($),null,{default:d(()=>l[11]||(l[11]=[t("Sedes")])),_:1}),(o(!0),_(m,null,p(n.headquarters,a=>(o(),f(e(k),{value:a.id,key:a.id},{default:d(()=>[t(c(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])],512),[[C,e(s).cafe_id==null]])]),r("div",O,[u(e(v),{modelValue:e(s).area_id,"onUpdate:modelValue":l[5]||(l[5]=a=>e(s).area_id=a)},{default:d(()=>[u(e(y),{class:"w-full"},{default:d(()=>[u(e(V),{placeholder:"Selecciona un area(depende de cafetería o sede)"})]),_:1}),u(e(w),null,{default:d(()=>[u(e(x),null,{default:d(()=>[u(e($),null,{default:d(()=>l[12]||(l[12]=[t("Areas")])),_:1}),(o(!0),_(m,null,p(i.value,a=>(o(),f(e(k),{value:a.id,key:a.id},{default:d(()=>[t(c(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),r("div",Q,[u(e(v),{modelValue:e(s).role_id,"onUpdate:modelValue":l[6]||(l[6]=a=>e(s).role_id=a)},{default:d(()=>[u(e(y),{class:"w-full"},{default:d(()=>[u(e(V),{placeholder:"Selecciona un rol"})]),_:1}),u(e(w),null,{default:d(()=>[u(e(x),null,{default:d(()=>[u(e($),null,{default:d(()=>l[13]||(l[13]=[t("Roles")])),_:1}),(o(!0),_(m,null,p(U.value,a=>(o(),f(e(k),{value:a.id,key:a.id},{default:d(()=>[t(c(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),u(e(H),null,{default:d(()=>[u(B,{onClick:E},{default:d(()=>l[14]||(l[14]=[t("Agregar")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]))}});export{ae as _};
